/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function e(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const t={},n=[],r=()=>{},s=()=>!1,i=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),o=e=>e.startsWith("onUpdate:"),a=Object.assign,l=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},c=Object.prototype.hasOwnProperty,u=(e,t)=>c.call(e,t),d=Array.isArray,h=e=>"[object Map]"===E(e),p=e=>"[object Set]"===E(e),f=e=>"[object Date]"===E(e),m=e=>"function"==typeof e,g=e=>"string"==typeof e,v=e=>"symbol"==typeof e,y=e=>null!==e&&"object"==typeof e,b=e=>(y(e)||m(e))&&m(e.then)&&m(e.catch),_=Object.prototype.toString,E=e=>_.call(e),w=e=>"[object Object]"===E(e),N=e=>g(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,S=e(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),M=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},A=/-(\w)/g,C=M((e=>e.replace(A,((e,t)=>t?t.toUpperCase():"")))),I=/\B([A-Z])/g,T=M((e=>e.replace(I,"-$1").toLowerCase())),O=M((e=>e.charAt(0).toUpperCase()+e.slice(1))),R=M((e=>e?`on${O(e)}`:"")),x=(e,t)=>!Object.is(e,t),k=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},D=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},P=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let B;const L=()=>B||(B="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function U(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=g(r)?H(r):U(r);if(s)for(const e in s)t[e]=s[e]}return t}if(g(e)||y(e))return e}const F=/;(?![^(]*\))/g,V=/:([^]+)/,G=/\/\*[^]*?\*\//g;function H(e){const t={};return e.replace(G,"").split(F).forEach((e=>{if(e){const n=e.split(V);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function j(e){let t="";if(g(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const r=j(e[n]);r&&(t+=r+" ")}else if(y(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const z=e("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function $(e){return!!e||""===e}function Y(e,t){if(e===t)return!0;let n=f(e),r=f(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=v(e),r=v(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Y(e[r],t[r]);return n}(e,t);if(n=y(e),r=y(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(r&&!s||!r&&s||!Y(e[n],t[n]))return!1}}return String(e)===String(t)}function q(e,t){return e.findIndex((e=>Y(e,t)))}const W=e=>!(!e||!0!==e.__v_isRef),K=e=>g(e)?e:null==e?"":d(e)||y(e)&&(e.toString===_||!m(e.toString))?W(e)?K(e.value):JSON.stringify(e,J,2):String(e),J=(e,t)=>W(t)?J(e,t.value):h(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n],r)=>(e[Z(t,r)+" =>"]=n,e)),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map((e=>Z(e)))}:v(t)?Z(t):!y(t)||d(t)||w(t)?t:String(t),Z=(e,t="")=>{var n;return v(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let Q,X;class ee{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Q,!e&&Q&&(this.index=(Q.scopes||(Q.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Q;try{return Q=this,e()}finally{Q=t}}}on(){1===++this._on&&(this.prevScope=Q,Q=this)}off(){this._on>0&&0===--this._on&&(Q=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}const te=new WeakSet;class ne{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Q&&Q.active&&Q.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,te.has(this)&&(te.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||oe(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,be(this),ce(this);const e=X,t=me;X=this,me=!0;try{return this.fn()}finally{ue(this),X=e,me=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)pe(e);this.deps=this.depsTail=void 0,be(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?te.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){de(this)&&this.run()}get dirty(){return de(this)}}let re,se,ie=0;function oe(e,t=!1){if(e.flags|=8,t)return e.next=se,void(se=e);e.next=re,re=e}function ae(){ie++}function le(){if(--ie>0)return;if(se){let e=se;for(se=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;re;){let n=re;for(re=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function ce(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function ue(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),pe(r),fe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function de(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(he(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function he(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===_e)return;if(e.globalVersion=_e,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!de(e)))return;e.flags|=2;const t=e.dep,n=X,r=me;X=e,me=!0;try{ce(e);const n=e.fn(e._value);(0===t.version||x(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(s){throw t.version++,s}finally{X=n,me=r,ue(e),e.flags&=-3}}function pe(e,t=!1){const{dep:n,prevSub:r,nextSub:s}=e;if(r&&(r.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)pe(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function fe(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let me=!0;const ge=[];function ve(){ge.push(me),me=!1}function ye(){const e=ge.pop();me=void 0===e||e}function be(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=X;X=void 0;try{t()}finally{X=e}}}let _e=0;class Ee{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class we{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!X||!me||X===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==X)t=this.activeLink=new Ee(X,this),X.deps?(t.prevDep=X.depsTail,X.depsTail.nextDep=t,X.depsTail=t):X.deps=X.depsTail=t,Ne(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=X.depsTail,t.nextDep=void 0,X.depsTail.nextDep=t,X.depsTail=t,X.deps===t&&(X.deps=e)}return t}trigger(e){this.version++,_e++,this.notify(e)}notify(e){ae();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{le()}}}function Ne(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)Ne(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Se=new WeakMap,Me=Symbol(""),Ae=Symbol(""),Ce=Symbol("");function Ie(e,t,n){if(me&&X){let t=Se.get(e);t||Se.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new we),r.map=t,r.key=n),r.track()}}function Te(e,t,n,r,s,i){const o=Se.get(e);if(!o)return void _e++;const a=e=>{e&&e.trigger()};if(ae(),"clear"===t)o.forEach(a);else{const s=d(e),i=s&&N(n);if(s&&"length"===n){const e=Number(r);o.forEach(((t,n)=>{("length"===n||n===Ce||!v(n)&&n>=e)&&a(t)}))}else switch((void 0!==n||o.has(void 0))&&a(o.get(n)),i&&a(o.get(Ce)),t){case"add":s?i&&a(o.get("length")):(a(o.get(Me)),h(e)&&a(o.get(Ae)));break;case"delete":s||(a(o.get(Me)),h(e)&&a(o.get(Ae)));break;case"set":h(e)&&a(o.get(Me))}}le()}function Oe(e){const t=ft(e);return t===e?t:(Ie(t,0,Ce),ht(e)?t:t.map(mt))}function Re(e){return Ie(e=ft(e),0,Ce),e}const xe={__proto__:null,[Symbol.iterator](){return ke(this,Symbol.iterator,mt)},concat(...e){return Oe(this).concat(...e.map((e=>d(e)?Oe(e):e)))},entries(){return ke(this,"entries",(e=>(e[1]=mt(e[1]),e)))},every(e,t){return Pe(this,"every",e,t,void 0,arguments)},filter(e,t){return Pe(this,"filter",e,t,(e=>e.map(mt)),arguments)},find(e,t){return Pe(this,"find",e,t,mt,arguments)},findIndex(e,t){return Pe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Pe(this,"findLast",e,t,mt,arguments)},findLastIndex(e,t){return Pe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Pe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Le(this,"includes",e)},indexOf(...e){return Le(this,"indexOf",e)},join(e){return Oe(this).join(e)},lastIndexOf(...e){return Le(this,"lastIndexOf",e)},map(e,t){return Pe(this,"map",e,t,void 0,arguments)},pop(){return Ue(this,"pop")},push(...e){return Ue(this,"push",e)},reduce(e,...t){return Be(this,"reduce",e,t)},reduceRight(e,...t){return Be(this,"reduceRight",e,t)},shift(){return Ue(this,"shift")},some(e,t){return Pe(this,"some",e,t,void 0,arguments)},splice(...e){return Ue(this,"splice",e)},toReversed(){return Oe(this).toReversed()},toSorted(e){return Oe(this).toSorted(e)},toSpliced(...e){return Oe(this).toSpliced(...e)},unshift(...e){return Ue(this,"unshift",e)},values(){return ke(this,"values",mt)}};function ke(e,t,n){const r=Re(e),s=r[t]();return r===e||ht(e)||(s._next=s.next,s.next=()=>{const e=s._next();return e.value&&(e.value=n(e.value)),e}),s}const De=Array.prototype;function Pe(e,t,n,r,s,i){const o=Re(e),a=o!==e&&!ht(e),l=o[t];if(l!==De[t]){const t=l.apply(e,i);return a?mt(t):t}let c=n;o!==e&&(a?c=function(t,r){return n.call(this,mt(t),r,e)}:n.length>2&&(c=function(t,r){return n.call(this,t,r,e)}));const u=l.call(o,c,r);return a&&s?s(u):u}function Be(e,t,n,r){const s=Re(e);let i=n;return s!==e&&(ht(e)?n.length>3&&(i=function(t,r,s){return n.call(this,t,r,s,e)}):i=function(t,r,s){return n.call(this,t,mt(r),s,e)}),s[t](i,...r)}function Le(e,t,n){const r=ft(e);Ie(r,0,Ce);const s=r[t](...n);return-1!==s&&!1!==s||!pt(n[0])?s:(n[0]=ft(n[0]),r[t](...n))}function Ue(e,t,n=[]){ve(),ae();const r=ft(e)[t].apply(e,n);return le(),ye(),r}const Fe=e("__proto__,__v_isRef,__isVue"),Ve=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(v));function Ge(e){v(e)||(e=String(e));const t=ft(this);return Ie(t,0,e),t.hasOwnProperty(e)}class He{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return s;if("__v_raw"===t)return n===(r?s?it:st:s?rt:nt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const i=d(e);if(!r){let e;if(i&&(e=xe[t]))return e;if("hasOwnProperty"===t)return Ge}const o=Reflect.get(e,t,vt(e)?e:n);return(v(t)?Ve.has(t):Fe(t))?o:(r||Ie(e,0,t),s?o:vt(o)?i&&N(t)?o:o.value:y(o)?r?lt(o):at(o):o)}}class je extends He{constructor(e=!1){super(!1,e)}set(e,t,n,r){let s=e[t];if(!this._isShallow){const t=dt(s);if(ht(n)||dt(n)||(s=ft(s),n=ft(n)),!d(e)&&vt(s)&&!vt(n))return!t&&(s.value=n,!0)}const i=d(e)&&N(t)?Number(t)<e.length:u(e,t),o=Reflect.set(e,t,n,vt(e)?e:r);return e===ft(r)&&(i?x(n,s)&&Te(e,"set",t,n):Te(e,"add",t,n)),o}deleteProperty(e,t){const n=u(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Te(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return v(t)&&Ve.has(t)||Ie(e,0,t),n}ownKeys(e){return Ie(e,0,d(e)?"length":Me),Reflect.ownKeys(e)}}class ze extends He{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const $e=new je,Ye=new ze,qe=new je(!0),We=e=>e,Ke=e=>Reflect.getPrototypeOf(e);function Je(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Ze(e,t){const n={get(n){const r=this.__v_raw,s=ft(r),i=ft(n);e||(x(n,i)&&Ie(s,0,n),Ie(s,0,i));const{has:o}=Ke(s),a=t?We:e?gt:mt;return o.call(s,n)?a(r.get(n)):o.call(s,i)?a(r.get(i)):void(r!==s&&r.get(n))},get size(){const t=this.__v_raw;return!e&&Ie(ft(t),0,Me),Reflect.get(t,"size",t)},has(t){const n=this.__v_raw,r=ft(n),s=ft(t);return e||(x(t,s)&&Ie(r,0,t),Ie(r,0,s)),t===s?n.has(t):n.has(t)||n.has(s)},forEach(n,r){const s=this,i=s.__v_raw,o=ft(i),a=t?We:e?gt:mt;return!e&&Ie(o,0,Me),i.forEach(((e,t)=>n.call(r,a(e),a(t),s)))}};a(n,e?{add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear")}:{add(e){t||ht(e)||dt(e)||(e=ft(e));const n=ft(this);return Ke(n).has.call(n,e)||(n.add(e),Te(n,"add",e,e)),this},set(e,n){t||ht(n)||dt(n)||(n=ft(n));const r=ft(this),{has:s,get:i}=Ke(r);let o=s.call(r,e);o||(e=ft(e),o=s.call(r,e));const a=i.call(r,e);return r.set(e,n),o?x(n,a)&&Te(r,"set",e,n):Te(r,"add",e,n),this},delete(e){const t=ft(this),{has:n,get:r}=Ke(t);let s=n.call(t,e);s||(e=ft(e),s=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return s&&Te(t,"delete",e,void 0),i},clear(){const e=ft(this),t=0!==e.size,n=e.clear();return t&&Te(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach((r=>{n[r]=function(e,t,n){return function(...r){const s=this.__v_raw,i=ft(s),o=h(i),a="entries"===e||e===Symbol.iterator&&o,l="keys"===e&&o,c=s[e](...r),u=n?We:t?gt:mt;return!t&&Ie(i,0,l?Ae:Me),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:a?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(r,e,t)})),n}function Qe(e,t){const n=Ze(e,t);return(t,r,s)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(u(n,r)&&r in t?n:t,r,s)}const Xe={get:Qe(!1,!1)},et={get:Qe(!1,!0)},tt={get:Qe(!0,!1)},nt=new WeakMap,rt=new WeakMap,st=new WeakMap,it=new WeakMap;function ot(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>E(e).slice(8,-1))(e))}function at(e){return dt(e)?e:ct(e,!1,$e,Xe,nt)}function lt(e){return ct(e,!0,Ye,tt,st)}function ct(e,t,n,r,s){if(!y(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const i=ot(e);if(0===i)return e;const o=s.get(e);if(o)return o;const a=new Proxy(e,2===i?r:n);return s.set(e,a),a}function ut(e){return dt(e)?ut(e.__v_raw):!(!e||!e.__v_isReactive)}function dt(e){return!(!e||!e.__v_isReadonly)}function ht(e){return!(!e||!e.__v_isShallow)}function pt(e){return!!e&&!!e.__v_raw}function ft(e){const t=e&&e.__v_raw;return t?ft(t):e}const mt=e=>y(e)?at(e):e,gt=e=>y(e)?lt(e):e;function vt(e){return!!e&&!0===e.__v_isRef}const yt={get:(e,t,n)=>{return"__v_raw"===t?e:vt(r=Reflect.get(e,t,n))?r.value:r;var r},set:(e,t,n,r)=>{const s=e[t];return vt(s)&&!vt(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function bt(e){return ut(e)?e:new Proxy(e,yt)}class _t{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new we(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=_e-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&X!==this)return oe(this,!0),!0}get value(){const e=this.dep.track();return he(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const Et={},wt=new WeakMap;let Nt;function St(e,n,s=t){const{immediate:i,deep:o,once:a,scheduler:c,augmentJob:u,call:h}=s,p=e=>o?e:ht(e)||!1===o||0===o?Mt(e,1):Mt(e);let f,g,v,y,b=!1,_=!1;if(vt(e)?(g=()=>e.value,b=ht(e)):ut(e)?(g=()=>p(e),b=!0):d(e)?(_=!0,b=e.some((e=>ut(e)||ht(e))),g=()=>e.map((e=>vt(e)?e.value:ut(e)?p(e):m(e)?h?h(e,2):e():void 0))):g=m(e)?n?h?()=>h(e,2):e:()=>{if(v){ve();try{v()}finally{ye()}}const t=Nt;Nt=f;try{return h?h(e,3,[y]):e(y)}finally{Nt=t}}:r,n&&o){const e=g,t=!0===o?1/0:o;g=()=>Mt(e(),t)}const E=Q,w=()=>{f.stop(),E&&E.active&&l(E.effects,f)};if(a&&n){const e=n;n=(...t)=>{e(...t),w()}}let N=_?new Array(e.length).fill(Et):Et;const S=e=>{if(1&f.flags&&(f.dirty||e))if(n){const e=f.run();if(o||b||(_?e.some(((e,t)=>x(e,N[t]))):x(e,N))){v&&v();const t=Nt;Nt=f;try{const t=[e,N===Et?void 0:_&&N[0]===Et?[]:N,y];N=e,h?h(n,3,t):n(...t)}finally{Nt=t}}}else f.run()};return u&&u(S),f=new ne(g),f.scheduler=c?()=>c(S,!1):S,y=e=>function(e,t=!1,n=Nt){if(n){let t=wt.get(n);t||wt.set(n,t=[]),t.push(e)}}(e,!1,f),v=f.onStop=()=>{const e=wt.get(f);if(e){if(h)h(e,4);else for(const t of e)t();wt.delete(f)}},n?i?S(!0):N=f.run():c?c(S.bind(null,!0),!0):f.run(),w.pause=f.pause.bind(f),w.resume=f.resume.bind(f),w.stop=w,w}function Mt(e,t=1/0,n){if(t<=0||!y(e)||e.__v_skip)return e;if((n=n||new Set).has(e))return e;if(n.add(e),t--,vt(e))Mt(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)Mt(e[r],t,n);else if(p(e)||h(e))e.forEach((e=>{Mt(e,t,n)}));else if(w(e)){for(const r in e)Mt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Mt(e[r],t,n)}return e}
/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function At(e,t,n,r){try{return r?e(...r):e()}catch(s){It(s,t,n)}}function Ct(e,t,n,r){if(m(e)){const s=At(e,t,n,r);return s&&b(s)&&s.catch((e=>{It(e,t,n)})),s}if(d(e)){const s=[];for(let i=0;i<e.length;i++)s.push(Ct(e[i],t,n,r));return s}}function It(e,n,r,s=!0){n&&n.vnode;const{errorHandler:i,throwUnhandledErrorInProduction:o}=n&&n.appContext.config||t;if(n){let t=n.parent;const s=n.proxy,o=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){const n=t.ec;if(n)for(let t=0;t<n.length;t++)if(!1===n[t](e,s,o))return;t=t.parent}if(i)return ve(),At(i,null,10,[e,s,o]),void ye()}!function(e,t,n,r=!0,s=!1){if(s)throw e}(e,0,0,s,o)}const Tt=[];let Ot=-1;const Rt=[];let xt=null,kt=0;const Dt=Promise.resolve();let Pt=null;function Bt(e){const t=Pt||Dt;return e?t.then(this?e.bind(this):e):t}function Lt(e){if(!(1&e.flags)){const t=Gt(e),n=Tt[Tt.length-1];!n||!(2&e.flags)&&t>=Gt(n)?Tt.push(e):Tt.splice(function(e){let t=Ot+1,n=Tt.length;for(;t<n;){const r=t+n>>>1,s=Tt[r],i=Gt(s);i<e||i===e&&2&s.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,Ut()}}function Ut(){Pt||(Pt=Dt.then(Ht))}function Ft(e,t,n=Ot+1){for(;n<Tt.length;n++){const t=Tt[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;Tt.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Vt(e){if(Rt.length){const e=[...new Set(Rt)].sort(((e,t)=>Gt(e)-Gt(t)));if(Rt.length=0,xt)return void xt.push(...e);for(xt=e,kt=0;kt<xt.length;kt++){const e=xt[kt];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}xt=null,kt=0}}const Gt=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Ht(e){try{for(Ot=0;Ot<Tt.length;Ot++){const e=Tt[Ot];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),At(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Ot<Tt.length;Ot++){const e=Tt[Ot];e&&(e.flags&=-2)}Ot=-1,Tt.length=0,Vt(),Pt=null,(Tt.length||Rt.length)&&Ht()}}let jt=null,zt=null;function $t(e){const t=jt;return jt=e,zt=e&&e.type.__scopeId||null,t}function Yt(e,n){if(null===jt)return e;const r=is(jt),s=e.dirs||(e.dirs=[]);for(let i=0;i<n.length;i++){let[e,o,a,l=t]=n[i];e&&(m(e)&&(e={mounted:e,updated:e}),e.deep&&Mt(o),s.push({dir:e,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function qt(e,t,n,r){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(ve(),Ct(l,n,8,[e.el,a,e,t]),ye())}}const Wt=Symbol("_vte");function Kt(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Kt(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Jt(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Zt(e,n,r,s,i=!1){if(d(e))return void e.forEach(((e,t)=>Zt(e,n&&(d(n)?n[t]:n),r,s,i)));if(Qt(s)&&!i)return void(512&s.shapeFlag&&s.type.__asyncResolved&&s.component.subTree.component&&Zt(e,n,r,s.component.subTree));const o=4&s.shapeFlag?is(s.component):s.el,a=i?null:o,{i:c,r:h}=e,p=n&&n.r,f=c.refs===t?c.refs={}:c.refs,v=c.setupState,y=ft(v),b=v===t?()=>!1:e=>u(y,e);if(null!=p&&p!==h&&(g(p)?(f[p]=null,b(p)&&(v[p]=null)):vt(p)&&(p.value=null)),m(h))At(h,c,12,[a,f]);else{const t=g(h),n=vt(h);if(t||n){const s=()=>{if(e.f){const n=t?b(h)?v[h]:f[h]:h.value;i?d(n)&&l(n,o):d(n)?n.includes(o)||n.push(o):t?(f[h]=[o],b(h)&&(v[h]=f[h])):(h.value=[o],e.k&&(f[e.k]=h.value))}else t?(f[h]=a,b(h)&&(v[h]=a)):n&&(h.value=a,e.k&&(f[e.k]=a))};a?(s.id=-1,nr(s,r)):s()}}}L().requestIdleCallback,L().cancelIdleCallback;const Qt=e=>!!e.type.__asyncLoader,Xt=e=>e.type.__isKeepAlive;function en(e,t){nn(e,"a",t)}function tn(e,t){nn(e,"da",t)}function nn(e,t,n=Zr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(sn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Xt(e.parent.vnode)&&rn(r,t,n,e),e=e.parent}}function rn(e,t,n,r){const s=sn(t,e,r,!0);hn((()=>{l(r[t],s)}),n)}function sn(e,t,n=Zr,r=!1){if(n){const s=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...r)=>{ve();const s=Qr(n),i=Ct(t,n,e,r);return s(),ye(),i});return r?s.unshift(i):s.push(i),i}}const on=e=>(t,n=Zr)=>{ts&&"sp"!==e||sn(e,((...e)=>t(...e)),n)},an=on("bm"),ln=on("m"),cn=on("bu"),un=on("u"),dn=on("bum"),hn=on("um"),pn=on("sp"),fn=on("rtg"),mn=on("rtc");function gn(e,t=Zr){sn("ec",e,t)}const vn=Symbol.for("v-ndc");function yn(e,t,n,r){let s;const i=n,o=d(e);if(o||g(e)){let n=!1,r=!1;o&&ut(e)&&(n=!ht(e),r=dt(e),e=Re(e)),s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(n?r?gt(mt(e[o])):mt(e[o]):e[o],o,void 0,i)}else if("number"==typeof e){s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,i)}else if(y(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,i)));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,o=n.length;r<o;r++){const o=n[r];s[r]=t(e[o],o,r,i)}}else s=[];return s}const bn=e=>e?es(e)?is(e):bn(e.parent):null,_n=a(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>bn(e.parent),$root:e=>bn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>In(e),$forceUpdate:e=>e.f||(e.f=()=>{Lt(e.update)}),$nextTick:e=>e.n||(e.n=Bt.bind(e.proxy)),$watch:e=>pr.bind(e)}),En=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),wn={get({_:e},n){if("__v_skip"===n)return!0;const{ctx:r,setupState:s,data:i,props:o,accessCache:a,type:l,appContext:c}=e;let d;if("$"!==n[0]){const l=a[n];if(void 0!==l)switch(l){case 1:return s[n];case 2:return i[n];case 4:return r[n];case 3:return o[n]}else{if(En(s,n))return a[n]=1,s[n];if(i!==t&&u(i,n))return a[n]=2,i[n];if((d=e.propsOptions[0])&&u(d,n))return a[n]=3,o[n];if(r!==t&&u(r,n))return a[n]=4,r[n];Sn&&(a[n]=0)}}const h=_n[n];let p,f;return h?("$attrs"===n&&Ie(e.attrs,0,""),h(e)):(p=l.__cssModules)&&(p=p[n])?p:r!==t&&u(r,n)?(a[n]=4,r[n]):(f=c.config.globalProperties,u(f,n)?f[n]:void 0)},set({_:e},n,r){const{data:s,setupState:i,ctx:o}=e;return En(i,n)?(i[n]=r,!0):s!==t&&u(s,n)?(s[n]=r,!0):!u(e.props,n)&&(("$"!==n[0]||!(n.slice(1)in e))&&(o[n]=r,!0))},has({_:{data:e,setupState:n,accessCache:r,ctx:s,appContext:i,propsOptions:o}},a){let l;return!!r[a]||e!==t&&u(e,a)||En(n,a)||(l=o[0])&&u(l,a)||u(s,a)||u(_n,a)||u(i.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:u(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Nn(e){return d(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}let Sn=!0;function Mn(e){const t=In(e),n=e.proxy,s=e.ctx;Sn=!1,t.beforeCreate&&An(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:a,watch:l,provide:c,inject:u,created:h,beforeMount:p,mounted:f,beforeUpdate:g,updated:v,activated:b,deactivated:_,beforeDestroy:E,beforeUnmount:w,destroyed:N,unmounted:S,render:M,renderTracked:A,renderTriggered:C,errorCaptured:I,serverPrefetch:T,expose:O,inheritAttrs:R,components:x,directives:k,filters:D}=t;if(u&&function(e,t){d(e)&&(e=xn(e));for(const n in e){const r=e[n];let s;s=y(r)?"default"in r?Vn(r.from||n,r.default,!0):Vn(r.from||n):Vn(r),vt(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e}):t[n]=s}}(u,s,null),a)for(const r in a){const e=a[r];m(e)&&(s[r]=e.bind(n))}if(i){const t=i.call(n,n);y(t)&&(e.data=at(t))}if(Sn=!0,o)for(const d in o){const e=o[d],t=m(e)?e.bind(n,n):m(e.get)?e.get.bind(n,n):r,i=!m(e)&&m(e.set)?e.set.bind(n):r,a=os({get:t,set:i});Object.defineProperty(s,d,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(l)for(const r in l)Cn(l[r],s,n,r);if(c){const e=m(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{!function(e,t){if(Zr){let n=Zr.provides;const r=Zr.parent&&Zr.parent.provides;r===n&&(n=Zr.provides=Object.create(r)),n[e]=t}else;}(t,e[t])}))}function P(e,t){d(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(h&&An(h,e,"c"),P(an,p),P(ln,f),P(cn,g),P(un,v),P(en,b),P(tn,_),P(gn,I),P(mn,A),P(fn,C),P(dn,w),P(hn,S),P(pn,T),d(O))if(O.length){const t=e.exposed||(e.exposed={});O.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});M&&e.render===r&&(e.render=M),null!=R&&(e.inheritAttrs=R),x&&(e.components=x),k&&(e.directives=k),T&&Jt(e)}function An(e,t,n){Ct(d(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Cn(e,t,n,r){let s=r.includes(".")?fr(n,r):()=>n[r];if(g(e)){const n=t[e];m(n)&&dr(s,n)}else if(m(e))dr(s,e.bind(n));else if(y(e))if(d(e))e.forEach((e=>Cn(e,t,n,r)));else{const r=m(e.handler)?e.handler.bind(n):t[e.handler];m(r)&&dr(s,r,e)}}function In(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:s.length||n||r?(l={},s.length&&s.forEach((e=>Tn(l,e,o,!0))),Tn(l,t,o)):l=t,y(t)&&i.set(t,l),l}function Tn(e,t,n,r=!1){const{mixins:s,extends:i}=t;i&&Tn(e,i,n,!0),s&&s.forEach((t=>Tn(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=On[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const On={data:Rn,props:Pn,emits:Pn,methods:Dn,computed:Dn,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:Dn,directives:Dn,watch:function(e,t){if(!e)return t;if(!t)return e;const n=a(Object.create(null),e);for(const r in t)n[r]=kn(e[r],t[r]);return n},provide:Rn,inject:function(e,t){return Dn(xn(e),xn(t))}};function Rn(e,t){return t?e?function(){return a(m(e)?e.call(this,this):e,m(t)?t.call(this,this):t)}:t:e}function xn(e){if(d(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kn(e,t){return e?[...new Set([].concat(e,t))]:t}function Dn(e,t){return e?a(Object.create(null),e,t):t}function Pn(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:a(Object.create(null),Nn(e),Nn(null!=t?t:{})):t}function Bn(){return{app:null,config:{isNativeTag:s,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Ln=0;function Un(e,t){return function(t,n=null){m(t)||(t=a({},t)),null==n||y(n)||(n=null);const r=Bn(),s=new WeakSet,i=[];let o=!1;const l=r.app={_uid:Ln++,_component:t,_props:n,_container:null,_context:r,_instance:null,version:as,get config(){return r.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&m(e.install)?(s.add(e),e.install(l,...t)):m(e)&&(s.add(e),e(l,...t))),l),mixin:e=>(r.mixins.includes(e)||r.mixins.push(e),l),component:(e,t)=>t?(r.components[e]=t,l):r.components[e],directive:(e,t)=>t?(r.directives[e]=t,l):r.directives[e],mount(s,i,a){if(!o){const i=l._ceVNode||Vr(t,n);return i.appContext=r,!0===a?a="svg":!1===a&&(a=void 0),e(i,s,a),o=!0,l._container=s,s.__vue_app__=l,is(i.component)}},onUnmount(e){i.push(e)},unmount(){o&&(Ct(i,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(r.provides[e]=t,l),runWithContext(e){const t=Fn;Fn=l;try{return e()}finally{Fn=t}}};return l}}let Fn=null;function Vn(e,t,n=!1){const r=Zr||jt;if(r||Fn){let s=Fn?Fn._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&m(t)?t.call(r&&r.proxy):t}}const Gn={},Hn=()=>Object.create(Gn),jn=e=>Object.getPrototypeOf(e)===Gn;function zn(e,t,n,r=!1){const s={},i=Hn();e.propsDefaults=Object.create(null),$n(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=r?s:ct(s,!1,qe,et,rt):e.type.props?e.props=s:e.props=i,e.attrs=i}function $n(e,n,r,s){const[i,o]=e.propsOptions;let a,l=!1;if(n)for(let t in n){if(S(t))continue;const c=n[t];let d;i&&u(i,d=C(t))?o&&o.includes(d)?(a||(a={}))[d]=c:r[d]=c:yr(e.emitsOptions,t)||t in s&&c===s[t]||(s[t]=c,l=!0)}if(o){const n=ft(r),s=a||t;for(let t=0;t<o.length;t++){const a=o[t];r[a]=Yn(i,n,a,s[a],e,!u(s,a))}}return l}function Yn(e,t,n,r,s,i){const o=e[n];if(null!=o){const e=u(o,"default");if(e&&void 0===r){const e=o.default;if(o.type!==Function&&!o.skipFactory&&m(e)){const{propsDefaults:i}=s;if(n in i)r=i[n];else{const o=Qr(s);r=i[n]=e.call(null,t),o()}}else r=e;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!e?r=!1:!o[1]||""!==r&&r!==T(n)||(r=!0))}return r}const qn=new WeakMap;function Wn(e,r,s=!1){const i=s?qn:r.propsCache,o=i.get(e);if(o)return o;const l=e.props,c={},h=[];let p=!1;if(!m(e)){const t=e=>{p=!0;const[t,n]=Wn(e,r,!0);a(c,t),n&&h.push(...n)};!s&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!l&&!p)return y(e)&&i.set(e,n),n;if(d(l))for(let n=0;n<l.length;n++){const e=C(l[n]);Kn(e)&&(c[e]=t)}else if(l)for(const t in l){const e=C(t);if(Kn(e)){const n=l[t],r=c[e]=d(n)||m(n)?{type:n}:a({},n),s=r.type;let i=!1,o=!0;if(d(s))for(let e=0;e<s.length;++e){const t=s[e],n=m(t)&&t.name;if("Boolean"===n){i=!0;break}"String"===n&&(o=!1)}else i=m(s)&&"Boolean"===s.name;r[0]=i,r[1]=o,(i||u(r,"default"))&&h.push(e)}}const f=[c,h];return y(e)&&i.set(e,f),f}function Kn(e){return"$"!==e[0]&&!S(e)}const Jn=e=>"_"===e[0]||"$stable"===e,Zn=e=>d(e)?e.map(jr):[jr(e)],Qn=(e,t,n)=>{if(t._n)return t;const r=function(e,t=jt){if(!t)return e;if(e._n)return e;const n=(...r)=>{n._d&&xr(-1);const s=$t(t);let i;try{i=e(...r)}finally{$t(s),n._d&&xr(1)}return i};return n._n=!0,n._c=!0,n._d=!0,n}(((...e)=>Zn(t(...e))),n);return r._c=!1,r},Xn=(e,t,n)=>{const r=e._ctx;for(const s in e){if(Jn(s))continue;const n=e[s];if(m(n))t[s]=Qn(0,n,r);else if(null!=n){const e=Zn(n);t[s]=()=>e}}},er=(e,t)=>{const n=Zn(t);e.slots.default=()=>n},tr=(e,t,n)=>{for(const r in t)!n&&Jn(r)||(e[r]=t[r])},nr=function(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):(d(n=e)?Rt.push(...n):xt&&-1===n.id?xt.splice(kt+1,0,n):1&n.flags||(Rt.push(n),n.flags|=1),Ut());var n};function rr(e){return function(e){L().__VUE__=!0;const{insert:s,remove:i,patchProp:o,createElement:a,createText:l,createComment:c,setText:h,setElementText:p,parentNode:f,nextSibling:m,setScopeId:g=r,insertStaticContent:v}=e,y=(e,t,n,r=null,s=null,i=null,o=void 0,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!Br(e,t)&&(r=X(e),W(e,s,i,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Mr:_(e,t,n,r);break;case Ar:E(e,t,n,r);break;case Cr:null==e&&w(t,n,r,o);break;case Sr:U(e,t,n,r,s,i,o,a,l);break;default:1&d?A(e,t,n,r,s,i,o,a,l):6&d?F(e,t,n,r,s,i,o,a,l):(64&d||128&d)&&c.process(e,t,n,r,s,i,o,a,l,se)}null!=u&&s&&Zt(u,e&&e.ref,i,t||e,!t)},_=(e,t,n,r)=>{if(null==e)s(t.el=l(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},E=(e,t,n,r)=>{null==e?s(t.el=c(t.children||""),n,r):t.el=e.el},w=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},N=({el:e,anchor:t},n,r)=>{let i;for(;e&&e!==t;)i=m(e),s(e,n,r),e=i;s(t,n,r)},M=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),i(e),e=n;i(t)},A=(e,t,n,r,s,i,o,a,l)=>{"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?I(t,n,r,s,i,o,a,l):x(e,t,s,i,o,a,l)},I=(e,t,n,r,i,l,c,u)=>{let d,h;const{props:f,shapeFlag:m,transition:g,dirs:v}=e;if(d=e.el=a(e.type,l,f&&f.is,f),8&m?p(d,e.children):16&m&&R(e.children,d,null,r,i,sr(e,l),c,u),v&&qt(e,null,r,"created"),O(d,e,e.scopeId,c,r),f){for(const e in f)"value"===e||S(e)||o(d,e,null,f[e],l,r);"value"in f&&o(d,"value",null,f.value,l),(h=f.onVnodeBeforeMount)&&Yr(h,r,e)}v&&qt(e,null,r,"beforeMount");const y=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(i,g);y&&g.beforeEnter(d),s(d,t,n),((h=f&&f.onVnodeMounted)||y||v)&&nr((()=>{h&&Yr(h,r,e),y&&g.enter(d),v&&qt(e,null,r,"mounted")}),i)},O=(e,t,n,r,s)=>{if(n&&g(e,n),r)for(let i=0;i<r.length;i++)g(e,r[i]);if(s){let n=s.subTree;if(t===n||Nr(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=s.vnode;O(e,t,t.scopeId,t.slotScopeIds,s.parent)}}},R=(e,t,n,r,s,i,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?zr(e[c]):jr(e[c]);y(null,l,t,n,r,s,i,o,a)}},x=(e,n,r,s,i,a,l)=>{const c=n.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:h}=n;u|=16&e.patchFlag;const f=e.props||t,m=n.props||t;let g;if(r&&ir(r,!1),(g=m.onVnodeBeforeUpdate)&&Yr(g,r,n,e),h&&qt(n,e,r,"beforeUpdate"),r&&ir(r,!0),(f.innerHTML&&null==m.innerHTML||f.textContent&&null==m.textContent)&&p(c,""),d?P(e.dynamicChildren,d,c,r,s,sr(n,i),a):l||z(e,n,c,null,r,s,sr(n,i),a,!1),u>0){if(16&u)B(c,f,m,r,i);else if(2&u&&f.class!==m.class&&o(c,"class",null,m.class,i),4&u&&o(c,"style",f.style,m.style,i),8&u){const e=n.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t],s=f[n],a=m[n];a===s&&"value"!==n||o(c,n,s,a,i,r)}}1&u&&e.children!==n.children&&p(c,n.children)}else l||null!=d||B(c,f,m,r,i);((g=m.onVnodeUpdated)||h)&&nr((()=>{g&&Yr(g,r,n,e),h&&qt(n,e,r,"updated")}),s)},P=(e,t,n,r,s,i,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Sr||!Br(l,c)||198&l.shapeFlag)?f(l.el):n;y(l,c,u,null,r,s,i,o,!0)}},B=(e,n,r,s,i)=>{if(n!==r){if(n!==t)for(const t in n)S(t)||t in r||o(e,t,n[t],null,i,s);for(const t in r){if(S(t))continue;const a=r[t],l=n[t];a!==l&&"value"!==t&&o(e,t,l,a,i,s)}"value"in r&&o(e,"value",n.value,r.value,i)}},U=(e,t,n,r,i,o,a,c,u)=>{const d=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(c=c?c.concat(m):m),null==e?(s(d,n,r),s(h,n,r),R(t.children||[],n,h,i,o,a,c,u)):p>0&&64&p&&f&&e.dynamicChildren?(P(e.dynamicChildren,f,n,i,o,a,c),(null!=t.key||i&&t===i.subTree)&&or(e,t,!0)):z(e,t,n,h,i,o,a,c,u)},F=(e,t,n,r,s,i,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?s.ctx.activate(t,n,r,o,l):V(t,n,r,s,i,o,l):G(e,t,l)},V=(e,n,r,s,i,o,a)=>{const l=e.component=function(e,n,r){const s=e.type,i=(n?n.appContext:e.appContext)||qr,o={uid:Wr++,vnode:e,type:s,parent:n,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(i.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wn(s,i),emitsOptions:vr(s,i),emit:null,emitted:null,propsDefaults:t,inheritAttrs:s.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};o.ctx={_:o},o.root=n?n.root:o,o.emit=gr.bind(null,o),e.ce&&e.ce(o);return o}(e,s,i);if(Xt(e)&&(l.ctx.renderer=se),function(e,t=!1,n=!1){t&&Jr(t);const{props:r,children:s}=e.vnode,i=es(e);zn(e,r,i,t),((e,t,n)=>{const r=e.slots=Hn();if(32&e.vnode.shapeFlag){const e=t._;e?(tr(r,t,n),n&&D(r,"_",e,!0)):Xn(t,r)}else t&&er(e,t)})(e,s,n||t);const o=i?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,wn);const{setup:r}=n;if(r){ve();const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ss),slots:e.slots,emit:e.emit,expose:t}}(e):null,s=Qr(e),i=At(r,e,0,[e.props,n]),o=b(i);if(ye(),s(),!o&&!e.sp||Qt(e)||Jt(e),o){if(i.then(Xr,Xr),t)return i.then((t=>{ns(e,t)})).catch((t=>{It(t,e,0)}));e.asyncDep=i}else ns(e,i)}else rs(e)}(e,t):void 0;t&&Jr(!1)}(l,!1,a),l.asyncDep){if(i&&i.registerDep(l,H,a),!e.el){const e=l.subTree=Vr(Ar);E(null,e,n,r)}}else H(l,e,n,r,i,o,a)},G=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!s&&!a||a&&a.$stable)||r!==o&&(r?!o||wr(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?wr(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!yr(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void j(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},H=(e,t,n,r,s,i,o)=>{const a=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:l,vnode:c}=e;{const n=ar(e);if(n)return t&&(t.el=c.el,j(e,t,o)),void n.asyncDep.then((()=>{e.isUnmounted||a()}))}let u,d=t;ir(e,!1),t?(t.el=c.el,j(e,t,o)):t=c,n&&k(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Yr(u,l,t,c),ir(e,!0);const h=br(e),p=e.subTree;e.subTree=h,y(p,h,f(p.el),X(p),e,s,i),t.el=h.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,h.el),r&&nr(r,s),(u=t.props&&t.props.onVnodeUpdated)&&nr((()=>Yr(u,l,t,c)),s)}else{let o;const{el:a,props:l}=t,{bm:c,m:u,parent:d,root:h,type:p}=e,f=Qt(t);ir(e,!1),c&&k(c),!f&&(o=l&&l.onVnodeBeforeMount)&&Yr(o,d,t),ir(e,!0);{h.ce&&h.ce._injectChildStyle(p);const o=e.subTree=br(e);y(null,o,n,r,e,s,i),t.el=o.el}if(u&&nr(u,s),!f&&(o=l&&l.onVnodeMounted)){const e=t;nr((()=>Yr(o,d,e)),s)}(256&t.shapeFlag||d&&Qt(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&nr(e.a,s),e.isMounted=!0,t=n=r=null}};e.scope.on();const l=e.effect=new ne(a);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Lt(u),ir(e,!0),c()},j=(e,n,r)=>{n.component=e;const s=e.vnode.props;e.vnode=n,e.next=null,function(e,t,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=ft(s),[l]=e.propsOptions;let c=!1;if(!(r||o>0)||16&o){let r;$n(e,t,s,i)&&(c=!0);for(const i in a)t&&(u(t,i)||(r=T(i))!==i&&u(t,r))||(l?!n||void 0===n[i]&&void 0===n[r]||(s[i]=Yn(l,a,i,void 0,e,!0)):delete s[i]);if(i!==a)for(const e in i)t&&u(t,e)||(delete i[e],c=!0)}else if(8&o){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(yr(e.emitsOptions,o))continue;const d=t[o];if(l)if(u(i,o))d!==i[o]&&(i[o]=d,c=!0);else{const t=C(o);s[t]=Yn(l,a,t,d,e,!1)}else d!==i[o]&&(i[o]=d,c=!0)}}c&&Te(e.attrs,"set","")}(e,n.props,s,r),((e,n,r)=>{const{vnode:s,slots:i}=e;let o=!0,a=t;if(32&s.shapeFlag){const e=n._;e?r&&1===e?o=!1:tr(i,n,r):(o=!n.$stable,Xn(n,i)),a=n}else n&&(er(e,n),a={default:1});if(o)for(const t in i)Jn(t)||null!=a[t]||delete i[t]})(e,n.children,r),ve(),Ft(e),ye()},z=(e,t,n,r,s,i,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:h,shapeFlag:f}=t;if(h>0){if(128&h)return void Y(c,d,n,r,s,i,o,a,l);if(256&h)return void $(c,d,n,r,s,i,o,a,l)}8&f?(16&u&&Q(c,s,i),d!==c&&p(n,d)):16&u?16&f?Y(c,d,n,r,s,i,o,a,l):Q(c,s,i,!0):(8&u&&p(n,""),16&f&&R(d,n,r,s,i,o,a,l))},$=(e,t,r,s,i,o,a,l,c)=>{t=t||n;const u=(e=e||n).length,d=t.length,h=Math.min(u,d);let p;for(p=0;p<h;p++){const n=t[p]=c?zr(t[p]):jr(t[p]);y(e[p],n,r,null,i,o,a,l,c)}u>d?Q(e,i,o,!0,!1,h):R(t,r,s,i,o,a,l,c,h)},Y=(e,t,r,s,i,o,a,l,c)=>{let u=0;const d=t.length;let h=e.length-1,p=d-1;for(;u<=h&&u<=p;){const n=e[u],s=t[u]=c?zr(t[u]):jr(t[u]);if(!Br(n,s))break;y(n,s,r,null,i,o,a,l,c),u++}for(;u<=h&&u<=p;){const n=e[h],s=t[p]=c?zr(t[p]):jr(t[p]);if(!Br(n,s))break;y(n,s,r,null,i,o,a,l,c),h--,p--}if(u>h){if(u<=p){const e=p+1,n=e<d?t[e].el:s;for(;u<=p;)y(null,t[u]=c?zr(t[u]):jr(t[u]),r,n,i,o,a,l,c),u++}}else if(u>p)for(;u<=h;)W(e[u],i,o,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?zr(t[u]):jr(t[u]);null!=e.key&&g.set(e.key,u)}let v,b=0;const _=p-m+1;let E=!1,w=0;const N=new Array(_);for(u=0;u<_;u++)N[u]=0;for(u=f;u<=h;u++){const n=e[u];if(b>=_){W(n,i,o,!0);continue}let s;if(null!=n.key)s=g.get(n.key);else for(v=m;v<=p;v++)if(0===N[v-m]&&Br(n,t[v])){s=v;break}void 0===s?W(n,i,o,!0):(N[s-m]=u+1,s>=w?w=s:E=!0,y(n,t[s],r,null,i,o,a,l,c),b++)}const S=E?function(e){const t=e.slice(),n=[0];let r,s,i,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(s=n[n.length-1],e[s]<l){t[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,e[n[a]]<l?i=a+1:o=a;l<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}i=n.length,o=n[i-1];for(;i-- >0;)n[i]=o,o=t[o];return n}(N):n;for(v=S.length-1,u=_-1;u>=0;u--){const e=m+u,n=t[e],h=e+1<d?t[e+1].el:s;0===N[u]?y(null,n,r,h,i,o,a,l,c):E&&(v<0||u!==S[v]?q(n,r,h,2):v--)}}},q=(e,t,n,r,o=null)=>{const{el:a,type:l,transition:c,children:u,shapeFlag:d}=e;if(6&d)return void q(e.component.subTree,t,n,r);if(128&d)return void e.suspense.move(t,n,r);if(64&d)return void l.move(e,t,n,se);if(l===Sr){s(a,t,n);for(let e=0;e<u.length;e++)q(u[e],t,n,r);return void s(e.anchor,t,n)}if(l===Cr)return void N(e,t,n);if(2!==r&&1&d&&c)if(0===r)c.beforeEnter(a),s(a,t,n),nr((()=>c.enter(a)),o);else{const{leave:r,delayLeave:o,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?i(a):s(a,t,n)},d=()=>{r(a,(()=>{u(),l&&l()}))};o?o(a,u,d):d()}else s(a,t,n)},W=(e,t,n,r=!1,s=!1)=>{const{type:i,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:h,cacheIndex:p}=e;if(-2===d&&(s=!1),null!=a&&(ve(),Zt(a,null,n,e,!0),ye()),null!=p&&(t.renderCache[p]=void 0),256&u)return void t.ctx.deactivate(e);const f=1&u&&h,m=!Qt(e);let g;if(m&&(g=o&&o.onVnodeBeforeUnmount)&&Yr(g,t,e),6&u)Z(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&qt(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,se,r):c&&!c.hasOnce&&(i!==Sr||d>0&&64&d)?Q(c,t,n,!1,!0):(i===Sr&&384&d||!s&&16&u)&&Q(l,t,n),r&&K(e)}(m&&(g=o&&o.onVnodeUnmounted)||f)&&nr((()=>{g&&Yr(g,t,e),f&&qt(e,null,t,"unmounted")}),n)},K=e=>{const{type:t,el:n,anchor:r,transition:s}=e;if(t===Sr)return void J(n,r);if(t===Cr)return void M(e);const o=()=>{i(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&e.shapeFlag&&s&&!s.persisted){const{leave:t,delayLeave:r}=s,i=()=>t(n,o);r?r(e.el,o,i):i()}else o()},J=(e,t)=>{let n;for(;e!==t;)n=m(e),i(e),e=n;i(t)},Z=(e,t,n)=>{const{bum:r,scope:s,job:i,subTree:o,um:a,m:l,a:c,parent:u,slots:{__:h}}=e;lr(l),lr(c),r&&k(r),u&&d(h)&&h.forEach((e=>{u.renderCache[e]=void 0})),s.stop(),i&&(i.flags|=8,W(o,e,t,n)),a&&nr(a,t),nr((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Q=(e,t,n,r=!1,s=!1,i=0)=>{for(let o=i;o<e.length;o++)W(e[o],t,n,r,s)},X=e=>{if(6&e.shapeFlag)return X(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[Wt];return n?m(n):t};let te=!1;const re=(e,t,n)=>{null==e?t._vnode&&W(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,te||(te=!0,Ft(),Vt(),te=!1)},se={p:y,um:W,m:q,r:K,mt:V,mc:R,pc:z,pbc:P,n:X,o:e};let ie;return{render:re,hydrate:ie,createApp:Un(re)}}(e)}function sr({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function ir({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function or(e,t,n=!1){const r=e.children,s=t.children;if(d(r)&&d(s))for(let i=0;i<r.length;i++){const e=r[i];let t=s[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[i]=zr(s[i]),t.el=e.el),n||-2===t.patchFlag||or(e,t)),t.type===Mr&&(t.el=e.el),t.type!==Ar||t.el||(t.el=e.el)}}function ar(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ar(t)}function lr(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cr=Symbol.for("v-scx"),ur=()=>Vn(cr);function dr(e,t,n){return hr(e,t,n)}function hr(e,n,s=t){const{immediate:i,deep:o,flush:l,once:c}=s,u=a({},s),d=n&&i||!n&&"post"!==l;let h;if(ts)if("sync"===l){const e=ur();h=e.__watcherHandles||(e.__watcherHandles=[])}else if(!d){const e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}const p=Zr;u.call=(e,t,n)=>Ct(e,p,t,n);let f=!1;"post"===l?u.scheduler=e=>{nr(e,p&&p.suspense)}:"sync"!==l&&(f=!0,u.scheduler=(e,t)=>{t?e():Lt(e)}),u.augmentJob=e=>{n&&(e.flags|=4),f&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};const m=St(e,n,u);return ts&&(h?h.push(m):d&&m()),m}function pr(e,t,n){const r=this.proxy,s=g(e)?e.includes(".")?fr(r,e):()=>r[e]:e.bind(r,r);let i;m(t)?i=t:(i=t.handler,n=t);const o=Qr(this),a=hr(s,i.bind(r),n);return o(),a}function fr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const mr=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e[`${t}Modifiers`]||e[`${C(t)}Modifiers`]||e[`${T(t)}Modifiers`];function gr(e,n,...r){if(e.isUnmounted)return;const s=e.vnode.props||t;let i=r;const o=n.startsWith("update:"),a=o&&mr(s,n.slice(7));let l;a&&(a.trim&&(i=r.map((e=>g(e)?e.trim():e))),a.number&&(i=r.map(P)));let c=s[l=R(n)]||s[l=R(C(n))];!c&&o&&(c=s[l=R(T(n))]),c&&Ct(c,e,6,i);const u=s[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Ct(u,e,6,i)}}function vr(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const i=e.emits;let o={},l=!1;if(!m(e)){const r=e=>{const n=vr(e,t,!0);n&&(l=!0,a(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return i||l?(d(i)?i.forEach((e=>o[e]=null)):a(o,i),y(e)&&r.set(e,o),o):(y(e)&&r.set(e,null),null)}function yr(e,t){return!(!e||!i(t))&&(t=t.slice(2).replace(/Once$/,""),u(e,t[0].toLowerCase()+t.slice(1))||u(e,T(t))||u(e,t))}function br(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:a,attrs:l,emit:c,render:u,renderCache:d,props:h,data:p,setupState:f,ctx:m,inheritAttrs:g}=e,v=$t(e);let y,b;try{if(4&n.shapeFlag){const e=s||r,t=e;y=jr(u.call(t,e,d,h,f,p,m)),b=l}else{const e=t;0,y=jr(e.length>1?e(h,{attrs:l,slots:a,emit:c}):e(h,null)),b=t.props?l:_r(l)}}catch(E){Ir.length=0,It(E,e,1),y=Vr(Ar)}let _=y;if(b&&!1!==g){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(i&&e.some(o)&&(b=Er(b,i)),_=Gr(_,b,!1,!0))}return n.dirs&&(_=Gr(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&Kt(_,n.transition),y=_,$t(v),y}const _r=e=>{let t;for(const n in e)("class"===n||"style"===n||i(n))&&((t||(t={}))[n]=e[n]);return t},Er=(e,t)=>{const n={};for(const r in e)o(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function wr(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(t[i]!==e[i]&&!yr(n,i))return!0}return!1}const Nr=e=>e.__isSuspense;const Sr=Symbol.for("v-fgt"),Mr=Symbol.for("v-txt"),Ar=Symbol.for("v-cmt"),Cr=Symbol.for("v-stc"),Ir=[];let Tr=null;function Or(e=!1){Ir.push(Tr=e?null:[])}let Rr=1;function xr(e,t=!1){Rr+=e,e<0&&Tr&&t&&(Tr.hasOnce=!0)}function kr(e){return e.dynamicChildren=Rr>0?Tr||n:null,Ir.pop(),Tr=Ir[Ir.length-1]||null,Rr>0&&Tr&&Tr.push(e),e}function Dr(e,t,n,r,s,i){return kr(Fr(e,t,n,r,s,i,!0))}function Pr(e){return!!e&&!0===e.__v_isVNode}function Br(e,t){return e.type===t.type&&e.key===t.key}const Lr=({key:e})=>null!=e?e:null,Ur=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?g(e)||vt(e)||m(e)?{i:jt,r:e,k:t,f:!!n}:e:null);function Fr(e,t=null,n=null,r=0,s=null,i=(e===Sr?0:1),o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Lr(t),ref:t&&Ur(t),scopeId:zt,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:jt};return a?($r(l,n),128&i&&e.normalize(l)):n&&(l.shapeFlag|=g(n)?8:16),Rr>0&&!o&&Tr&&(l.patchFlag>0||6&i)&&32!==l.patchFlag&&Tr.push(l),l}const Vr=function(e,t=null,n=null,r=0,s=null,i=!1){e&&e!==vn||(e=Ar);if(Pr(e)){const r=Gr(e,t,!0);return n&&$r(r,n),Rr>0&&!i&&Tr&&(6&r.shapeFlag?Tr[Tr.indexOf(e)]=r:Tr.push(r)),r.patchFlag=-2,r}o=e,m(o)&&"__vccOpts"in o&&(e=e.__vccOpts);var o;if(t){t=function(e){return e?pt(e)||jn(e)?a({},e):e:null}(t);let{class:e,style:n}=t;e&&!g(e)&&(t.class=j(e)),y(n)&&(pt(n)&&!d(n)&&(n=a({},n)),t.style=U(n))}const l=g(e)?1:Nr(e)?128:(e=>e.__isTeleport)(e)?64:y(e)?4:m(e)?2:0;return Fr(e,t,n,r,s,l,i,!0)};function Gr(e,t,n=!1,r=!1){const{props:s,ref:o,patchFlag:a,children:l,transition:c}=e,u=t?function(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=j([t.class,r.class]));else if("style"===e)t.style=U([t.style,r.style]);else if(i(e)){const n=t[e],s=r[e];!s||n===s||d(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}(s||{},t):s,h={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Lr(u),ref:t&&t.ref?n&&o?d(o)?o.concat(Ur(t)):[o,Ur(t)]:Ur(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:l,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Sr?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Gr(e.ssContent),ssFallback:e.ssFallback&&Gr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Kt(h,c.clone(h)),h}function Hr(e=" ",t=0){return Vr(Mr,null,e,t)}function jr(e){return null==e||"boolean"==typeof e?Vr(Ar):d(e)?Vr(Sr,null,e.slice()):Pr(e)?zr(e):Vr(Mr,null,String(e))}function zr(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Gr(e)}function $r(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(d(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),$r(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||jn(t)?3===r&&jt&&(1===jt.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=jt}}else m(t)?(t={default:t,_ctx:jt},n=32):(t=String(t),64&r?(n=16,t=[Hr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Yr(e,t,n,r=null){Ct(e,t,7,[n,r])}const qr=Bn();let Wr=0;let Kr,Jr,Zr=null;{const e=L(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach((t=>t(e))):r[0](e)}};Kr=t("__VUE_INSTANCE_SETTERS__",(e=>Zr=e)),Jr=t("__VUE_SSR_SETTERS__",(e=>ts=e))}const Qr=e=>{const t=Zr;return Kr(e),e.scope.on(),()=>{e.scope.off(),Kr(t)}},Xr=()=>{Zr&&Zr.scope.off(),Kr(null)};function es(e){return 4&e.vnode.shapeFlag}let ts=!1;function ns(e,t,n){m(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:y(t)&&(e.setupState=bt(t)),rs(e)}function rs(e,t,n){const s=e.type;e.render||(e.render=s.render||r);{const t=Qr(e);ve();try{Mn(e)}finally{ye(),t()}}}const ss={get:(e,t)=>(Ie(e,0,""),e[t])};function is(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bt((t=e.exposed,!u(t,"__v_skip")&&Object.isExtensible(t)&&D(t,"__v_skip",!0),t)),{get:(t,n)=>n in t?t[n]:n in _n?_n[n](e):void 0,has:(e,t)=>t in e||t in _n})):e.proxy;var t}const os=(e,t)=>{const n=function(e,t,n=!1){let r,s;return m(e)?r=e:(r=e.get,s=e.set),new _t(r,s,n)}(e,0,ts);return n},as="3.5.16";
/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
let ls;const cs="undefined"!=typeof window&&window.trustedTypes;if(cs)try{ls=cs.createPolicy("vue",{createHTML:e=>e})}catch(Xi){}const us=ls?e=>ls.createHTML(e):e=>e,ds="undefined"!=typeof document?document:null,hs=ds&&ds.createElement("template"),ps={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s="svg"===t?ds.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?ds.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?ds.createElement(e,{is:n}):ds.createElement(e);return"select"===e&&r&&null!=r.multiple&&s.setAttribute("multiple",r.multiple),s},createText:e=>ds.createTextNode(e),createComment:e=>ds.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ds.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,i){const o=n?n.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),s!==i&&(s=s.nextSibling););else{hs.innerHTML=us("svg"===r?`<svg>${e}</svg>`:"mathml"===r?`<math>${e}</math>`:e);const s=hs.content;if("svg"===r||"mathml"===r){const e=s.firstChild;for(;e.firstChild;)s.appendChild(e.firstChild);s.removeChild(e)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},fs=Symbol("_vtc");const ms=Symbol("_vod"),gs=Symbol("_vsh"),vs=Symbol(""),ys=/(^|;)\s*display\s*:/;const bs=/\s*!important$/;function _s(e,t,n){if(d(n))n.forEach((n=>_s(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=ws[t];if(n)return n;let r=C(t);if("filter"!==r&&r in e)return ws[t]=r;r=O(r);for(let s=0;s<Es.length;s++){const n=Es[s]+r;if(n in e)return ws[t]=n}return t}(e,t);bs.test(n)?e.setProperty(T(r),n.replace(bs,""),"important"):e[r]=n}}const Es=["Webkit","Moz","ms"],ws={};const Ns="http://www.w3.org/1999/xlink";function Ss(e,t,n,r,s,i=z(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Ns,t.slice(6,t.length)):e.setAttributeNS(Ns,t,n):null==n||i&&!$(n)?e.removeAttribute(t):e.setAttribute(t,i?"":v(n)?String(n):n)}function Ms(e,t,n,r,s){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?us(n):n));const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){const r="OPTION"===i?e.getAttribute("value")||"":e.value,s=null==n?"checkbox"===e.type?"on":"":String(n);return r===s&&"_value"in e||(e.value=s),null==n&&e.removeAttribute(t),void(e._value=n)}let o=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=$(n):null==n&&"string"===r?(n="",o=!0):"number"===r&&(n=0,o=!0)}try{e[t]=n}catch(Xi){}o&&e.removeAttribute(s||t)}function As(e,t,n,r){e.addEventListener(t,n,r)}const Cs=Symbol("_vei");function Is(e,t,n,r,s=null){const i=e[Cs]||(e[Cs]={}),o=i[t];if(r&&o)o.value=r;else{const[n,a]=function(e){let t;if(Ts.test(e)){let n;for(t={};n=e.match(Ts);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):T(e.slice(2));return[n,t]}(t);if(r){const o=i[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Ct(function(e,t){if(d(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=xs(),n}(r,s);As(e,n,o,a)}else o&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,o,a),i[t]=void 0)}}const Ts=/(?:Once|Passive|Capture)$/;let Os=0;const Rs=Promise.resolve(),xs=()=>Os||(Rs.then((()=>Os=0)),Os=Date.now());const ks=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;const Ds=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>k(t,e):t},Ps=Symbol("_assign"),Bs={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const s=p(t);As(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?P(Us(e)):Us(e)));e[Ps](e.multiple?s?new Set(t):t:t[0]),e._assigning=!0,Bt((()=>{e._assigning=!1}))})),e[Ps]=Ds(r)},mounted(e,{value:t}){Ls(e,t)},beforeUpdate(e,t,n){e[Ps]=Ds(n)},updated(e,{value:t}){e._assigning||Ls(e,t)}};function Ls(e,t){const n=e.multiple,r=d(t);if(!n||r||p(t)){for(let s=0,i=e.options.length;s<i;s++){const i=e.options[s],o=Us(i);if(n)if(r){const e=typeof o;i.selected="string"===e||"number"===e?t.some((e=>String(e)===String(o))):q(t,o)>-1}else i.selected=t.has(o);else if(Y(Us(i),t))return void(e.selectedIndex!==s&&(e.selectedIndex=s))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Us(e){return"_value"in e?e._value:e.value}const Fs=a({patchProp:(e,t,n,r,s,a)=>{const l="svg"===s;"class"===t?function(e,t,n){const r=e[fs];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,l):"style"===t?function(e,t,n){const r=e.style,s=g(n);let i=!1;if(n&&!s){if(t)if(g(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&_s(r,t,"")}else for(const e in t)null==n[e]&&_s(r,e,"");for(const e in n)"display"===e&&(i=!0),_s(r,e,n[e])}else if(s){if(t!==n){const e=r[vs];e&&(n+=";"+e),r.cssText=n,i=ys.test(n)}}else t&&e.removeAttribute("style");ms in e&&(e[ms]=i?r.display:"",e[gs]&&(r.display="none"))}(e,n,r):i(t)?o(t)||Is(e,t,0,r,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ks(t)&&m(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(ks(t)&&g(n))return!1;return t in e}(e,t,r,l))?(Ms(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||Ss(e,t,r,l,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&g(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),Ss(e,t,r,l)):Ms(e,C(t),r,0,t)}},ps);let Vs;class Gs{constructor(e=!1){this.eventMap={},this.eventsSuspended=1==e}addListener(e,t,n={}){if("string"==typeof e&&e.length<1||e instanceof String&&e.length<1||"string"!=typeof e&&!(e instanceof String)&&e!==Gs.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");const r=new Hs(e,this,t,n);return this.eventMap[e]||(this.eventMap[e]=[]),n.prepend?this.eventMap[e].unshift(r):this.eventMap[e].push(r),r}addOneTimeListener(e,t,n={}){n.remaining=1,this.addListener(e,t,n)}static get ANY_EVENT(){return Symbol.for("Any event")}hasListener(e,t){if(void 0===e)return!!(this.eventMap[Gs.ANY_EVENT]&&this.eventMap[Gs.ANY_EVENT].length>0)||Object.entries(this.eventMap).some((([,e])=>e.length>0));if(this.eventMap[e]&&this.eventMap[e].length>0){if(t instanceof Hs){return this.eventMap[e].filter((e=>e===t)).length>0}if("function"==typeof t){return this.eventMap[e].filter((e=>e.callback===t)).length>0}return null==t}return!1}get eventNames(){return Object.keys(this.eventMap)}getListeners(e){return this.eventMap[e]||[]}suspendEvent(e){this.getListeners(e).forEach((e=>{e.suspended=!0}))}unsuspendEvent(e){this.getListeners(e).forEach((e=>{e.suspended=!1}))}getListenerCount(e){return this.getListeners(e).length}emit(e,...t){if("string"!=typeof e&&!(e instanceof String))throw new TypeError("The 'event' parameter must be a string.");if(this.eventsSuspended)return;let n=[],r=this.eventMap[Gs.ANY_EVENT]||[];return this.eventMap[e]&&(r=r.concat(this.eventMap[e])),r.forEach((e=>{if(e.suspended)return;let r=[...t];Array.isArray(e.arguments)&&(r=r.concat(e.arguments)),e.remaining>0&&(n.push(e.callback.apply(e.context,r)),e.count++),--e.remaining<1&&e.remove()})),n}removeListener(e,t,n={}){if(void 0===e)return void(this.eventMap={});if(!this.eventMap[e])return;let r=this.eventMap[e].filter((e=>t&&e.callback!==t||n.remaining&&n.remaining!==e.remaining||n.context&&n.context!==e.context));r.length?this.eventMap[e]=r:delete this.eventMap[e]}async waitFor(e,t={}){return t.duration=parseInt(t.duration),(isNaN(t.duration)||t.duration<=0)&&(t.duration=1/0),new Promise(((n,r)=>{let s,i=this.addListener(e,(()=>{clearTimeout(s),n()}),{remaining:1});t.duration!==1/0&&(s=setTimeout((()=>{i.remove(),r("The duration expired before the event was emitted.")}),t.duration))}))}get eventCount(){return Object.keys(this.eventMap).length}}class Hs{constructor(e,t,n,r={}){if("string"!=typeof e&&!(e instanceof String)&&e!==Gs.ANY_EVENT)throw new TypeError("The 'event' parameter must be a string or EventEmitter.ANY_EVENT.");if(!t)throw new ReferenceError("The 'target' parameter is mandatory.");if("function"!=typeof n)throw new TypeError("The 'callback' must be a function.");void 0===r.arguments||Array.isArray(r.arguments)||(r.arguments=[r.arguments]),(r=Object.assign({context:t,remaining:1/0,arguments:void 0,duration:1/0},r)).duration!==1/0&&setTimeout((()=>this.remove()),r.duration),this.arguments=r.arguments,this.callback=n,this.context=r.context,this.count=0,this.event=e,this.remaining=parseInt(r.remaining)>=1?parseInt(r.remaining):1/0,this.suspended=!1,this.target=t}remove(){this.target.removeListener(this.event,this.callback,{context:this.context,remaining:this.remaining})}}
/**
 * The `Enumerations` class contains enumerations and arrays of elements used throughout the
 * library. All its properties are static and should be referenced using the class name. For
 * example: `Enumerations.CHANNEL_MESSAGES`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class js{static get MIDI_CHANNEL_MESSAGES(){return this.validation,js.CHANNEL_MESSAGES}static get CHANNEL_MESSAGES(){return{noteoff:8,noteon:9,keyaftertouch:10,controlchange:11,programchange:12,channelaftertouch:13,pitchbend:14}}static get CHANNEL_NUMBERS(){return[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get MIDI_CHANNEL_NUMBERS(){return this.validation,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]}static get CHANNEL_MODE_MESSAGES(){return{allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation,js.CHANNEL_MODE_MESSAGES}static get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation,{bankselectcoarse:0,modulationwheelcoarse:1,breathcontrollercoarse:2,controller3:3,footcontrollercoarse:4,portamentotimecoarse:5,dataentrycoarse:6,volumecoarse:7,balancecoarse:8,controller9:9,pancoarse:10,expressioncoarse:11,effectcontrol1coarse:12,effectcontrol2coarse:13,controller14:14,controller15:15,generalpurposeslider1:16,generalpurposeslider2:17,generalpurposeslider3:18,generalpurposeslider4:19,controller20:20,controller21:21,controller22:22,controller23:23,controller24:24,controller25:25,controller26:26,controller27:27,controller28:28,controller29:29,controller30:30,controller31:31,bankselectfine:32,modulationwheelfine:33,breathcontrollerfine:34,controller35:35,footcontrollerfine:36,portamentotimefine:37,dataentryfine:38,volumefine:39,balancefine:40,controller41:41,panfine:42,expressionfine:43,effectcontrol1fine:44,effectcontrol2fine:45,controller46:46,controller47:47,controller48:48,controller49:49,controller50:50,controller51:51,controller52:52,controller53:53,controller54:54,controller55:55,controller56:56,controller57:57,controller58:58,controller59:59,controller60:60,controller61:61,controller62:62,controller63:63,holdpedal:64,portamento:65,sustenutopedal:66,softpedal:67,legatopedal:68,hold2pedal:69,soundvariation:70,resonance:71,soundreleasetime:72,soundattacktime:73,brightness:74,soundcontrol6:75,soundcontrol7:76,soundcontrol8:77,soundcontrol9:78,soundcontrol10:79,generalpurposebutton1:80,generalpurposebutton2:81,generalpurposebutton3:82,generalpurposebutton4:83,controller84:84,controller85:85,controller86:86,controller87:87,controller88:88,controller89:89,controller90:90,reverblevel:91,tremololevel:92,choruslevel:93,celestelevel:94,phaserlevel:95,databuttonincrement:96,databuttondecrement:97,nonregisteredparametercoarse:98,nonregisteredparameterfine:99,registeredparametercoarse:100,registeredparameterfine:101,controller102:102,controller103:103,controller104:104,controller105:105,controller106:106,controller107:107,controller108:108,controller109:109,controller110:110,controller111:111,controller112:112,controller113:113,controller114:114,controller115:115,controller116:116,controller117:117,controller118:118,controller119:119,allsoundoff:120,resetallcontrollers:121,localcontrol:122,allnotesoff:123,omnimodeoff:124,omnimodeon:125,monomodeon:126,polymodeon:127}}static get CONTROL_CHANGE_MESSAGES(){return[{number:0,name:"bankselectcoarse",description:"Bank Select (Coarse)",position:"msb"},{number:1,name:"modulationwheelcoarse",description:"Modulation Wheel (Coarse)",position:"msb"},{number:2,name:"breathcontrollercoarse",description:"Breath Controller (Coarse)",position:"msb"},{number:3,name:"controller3",description:"Undefined",position:"msb"},{number:4,name:"footcontrollercoarse",description:"Foot Controller (Coarse)",position:"msb"},{number:5,name:"portamentotimecoarse",description:"Portamento Time (Coarse)",position:"msb"},{number:6,name:"dataentrycoarse",description:"Data Entry (Coarse)",position:"msb"},{number:7,name:"volumecoarse",description:"Channel Volume (Coarse)",position:"msb"},{number:8,name:"balancecoarse",description:"Balance (Coarse)",position:"msb"},{number:9,name:"controller9",description:"Controller 9 (Coarse)",position:"msb"},{number:10,name:"pancoarse",description:"Pan (Coarse)",position:"msb"},{number:11,name:"expressioncoarse",description:"Expression Controller (Coarse)",position:"msb"},{number:12,name:"effectcontrol1coarse",description:"Effect Control 1 (Coarse)",position:"msb"},{number:13,name:"effectcontrol2coarse",description:"Effect Control 2 (Coarse)",position:"msb"},{number:14,name:"controller14",description:"Undefined",position:"msb"},{number:15,name:"controller15",description:"Undefined",position:"msb"},{number:16,name:"generalpurposecontroller1",description:"General Purpose Controller 1 (Coarse)",position:"msb"},{number:17,name:"generalpurposecontroller2",description:"General Purpose Controller 2 (Coarse)",position:"msb"},{number:18,name:"generalpurposecontroller3",description:"General Purpose Controller 3 (Coarse)",position:"msb"},{number:19,name:"generalpurposecontroller4",description:"General Purpose Controller 4 (Coarse)",position:"msb"},{number:20,name:"controller20",description:"Undefined",position:"msb"},{number:21,name:"controller21",description:"Undefined",position:"msb"},{number:22,name:"controller22",description:"Undefined",position:"msb"},{number:23,name:"controller23",description:"Undefined",position:"msb"},{number:24,name:"controller24",description:"Undefined",position:"msb"},{number:25,name:"controller25",description:"Undefined",position:"msb"},{number:26,name:"controller26",description:"Undefined",position:"msb"},{number:27,name:"controller27",description:"Undefined",position:"msb"},{number:28,name:"controller28",description:"Undefined",position:"msb"},{number:29,name:"controller29",description:"Undefined",position:"msb"},{number:30,name:"controller30",description:"Undefined",position:"msb"},{number:31,name:"controller31",description:"Undefined",position:"msb"},{number:32,name:"bankselectfine",description:"Bank Select (Fine)",position:"lsb"},{number:33,name:"modulationwheelfine",description:"Modulation Wheel (Fine)",position:"lsb"},{number:34,name:"breathcontrollerfine",description:"Breath Controller (Fine)",position:"lsb"},{number:35,name:"controller35",description:"Undefined",position:"lsb"},{number:36,name:"footcontrollerfine",description:"Foot Controller (Fine)",position:"lsb"},{number:37,name:"portamentotimefine",description:"Portamento Time (Fine)",position:"lsb"},{number:38,name:"dataentryfine",description:"Data Entry (Fine)",position:"lsb"},{number:39,name:"channelvolumefine",description:"Channel Volume (Fine)",position:"lsb"},{number:40,name:"balancefine",description:"Balance (Fine)",position:"lsb"},{number:41,name:"controller41",description:"Undefined",position:"lsb"},{number:42,name:"panfine",description:"Pan (Fine)",position:"lsb"},{number:43,name:"expressionfine",description:"Expression Controller (Fine)",position:"lsb"},{number:44,name:"effectcontrol1fine",description:"Effect control 1 (Fine)",position:"lsb"},{number:45,name:"effectcontrol2fine",description:"Effect control 2 (Fine)",position:"lsb"},{number:46,name:"controller46",description:"Undefined",position:"lsb"},{number:47,name:"controller47",description:"Undefined",position:"lsb"},{number:48,name:"controller48",description:"General Purpose Controller 1 (Fine)",position:"lsb"},{number:49,name:"controller49",description:"General Purpose Controller 2 (Fine)",position:"lsb"},{number:50,name:"controller50",description:"General Purpose Controller 3 (Fine)",position:"lsb"},{number:51,name:"controller51",description:"General Purpose Controller 4 (Fine)",position:"lsb"},{number:52,name:"controller52",description:"Undefined",position:"lsb"},{number:53,name:"controller53",description:"Undefined",position:"lsb"},{number:54,name:"controller54",description:"Undefined",position:"lsb"},{number:55,name:"controller55",description:"Undefined",position:"lsb"},{number:56,name:"controller56",description:"Undefined",position:"lsb"},{number:57,name:"controller57",description:"Undefined",position:"lsb"},{number:58,name:"controller58",description:"Undefined",position:"lsb"},{number:59,name:"controller59",description:"Undefined",position:"lsb"},{number:60,name:"controller60",description:"Undefined",position:"lsb"},{number:61,name:"controller61",description:"Undefined",position:"lsb"},{number:62,name:"controller62",description:"Undefined",position:"lsb"},{number:63,name:"controller63",description:"Undefined",position:"lsb"},{number:64,name:"damperpedal",description:"Damper Pedal On/Off"},{number:65,name:"portamento",description:"Portamento On/Off"},{number:66,name:"sostenuto",description:"Sostenuto On/Off"},{number:67,name:"softpedal",description:"Soft Pedal On/Off"},{number:68,name:"legatopedal",description:"Legato Pedal On/Off"},{number:69,name:"hold2",description:"Hold 2 On/Off"},{number:70,name:"soundvariation",description:"Sound Variation",position:"lsb"},{number:71,name:"resonance",description:"Resonance",position:"lsb"},{number:72,name:"releasetime",description:"Release Time",position:"lsb"},{number:73,name:"attacktime",description:"Attack Time",position:"lsb"},{number:74,name:"brightness",description:"Brightness",position:"lsb"},{number:75,name:"decaytime",description:"Decay Time",position:"lsb"},{number:76,name:"vibratorate",description:"Vibrato Rate",position:"lsb"},{number:77,name:"vibratodepth",description:"Vibrato Depth",position:"lsb"},{number:78,name:"vibratodelay",description:"Vibrato Delay",position:"lsb"},{number:79,name:"controller79",description:"Undefined",position:"lsb"},{number:80,name:"generalpurposecontroller5",description:"General Purpose Controller 5",position:"lsb"},{number:81,name:"generalpurposecontroller6",description:"General Purpose Controller 6",position:"lsb"},{number:82,name:"generalpurposecontroller7",description:"General Purpose Controller 7",position:"lsb"},{number:83,name:"generalpurposecontroller8",description:"General Purpose Controller 8",position:"lsb"},{number:84,name:"portamentocontrol",description:"Portamento Control",position:"lsb"},{number:85,name:"controller85",description:"Undefined"},{number:86,name:"controller86",description:"Undefined"},{number:87,name:"controller87",description:"Undefined"},{number:88,name:"highresolutionvelocityprefix",description:"High Resolution Velocity Prefix",position:"lsb"},{number:89,name:"controller89",description:"Undefined"},{number:90,name:"controller90",description:"Undefined"},{number:91,name:"effect1depth",description:"Effects 1 Depth (Reverb Send Level)"},{number:92,name:"effect2depth",description:"Effects 2 Depth"},{number:93,name:"effect3depth",description:"Effects 3 Depth (Chorus Send Level)"},{number:94,name:"effect4depth",description:"Effects 4 Depth"},{number:95,name:"effect5depth",description:"Effects 5 Depth"},{number:96,name:"dataincrement",description:"Data Increment"},{number:97,name:"datadecrement",description:"Data Decrement"},{number:98,name:"nonregisteredparameterfine",description:"Non-Registered Parameter Number (Fine)",position:"lsb"},{number:99,name:"nonregisteredparametercoarse",description:"Non-Registered Parameter Number (Coarse)",position:"msb"},{number:100,name:"registeredparameterfine",description:"Registered Parameter Number (Fine)",position:"lsb"},{number:101,name:"registeredparametercoarse",description:"Registered Parameter Number (Coarse)",position:"msb"},{number:102,name:"controller102",description:"Undefined"},{number:103,name:"controller103",description:"Undefined"},{number:104,name:"controller104",description:"Undefined"},{number:105,name:"controller105",description:"Undefined"},{number:106,name:"controller106",description:"Undefined"},{number:107,name:"controller107",description:"Undefined"},{number:108,name:"controller108",description:"Undefined"},{number:109,name:"controller109",description:"Undefined"},{number:110,name:"controller110",description:"Undefined"},{number:111,name:"controller111",description:"Undefined"},{number:112,name:"controller112",description:"Undefined"},{number:113,name:"controller113",description:"Undefined"},{number:114,name:"controller114",description:"Undefined"},{number:115,name:"controller115",description:"Undefined"},{number:116,name:"controller116",description:"Undefined"},{number:117,name:"controller117",description:"Undefined"},{number:118,name:"controller118",description:"Undefined"},{number:119,name:"controller119",description:"Undefined"},{number:120,name:"allsoundoff",description:"All Sound Off"},{number:121,name:"resetallcontrollers",description:"Reset All Controllers"},{number:122,name:"localcontrol",description:"Local Control On/Off"},{number:123,name:"allnotesoff",description:"All Notes Off"},{number:124,name:"omnimodeoff",description:"Omni Mode Off"},{number:125,name:"omnimodeon",description:"Omni Mode On"},{number:126,name:"monomodeon",description:"Mono Mode On"},{number:127,name:"polymodeon",description:"Poly Mode On"}]}static get REGISTERED_PARAMETERS(){return{pitchbendrange:[0,0],channelfinetuning:[0,1],channelcoarsetuning:[0,2],tuningprogram:[0,3],tuningbank:[0,4],modulationrange:[0,5],azimuthangle:[61,0],elevationangle:[61,1],gain:[61,2],distanceratio:[61,3],maximumdistance:[61,4],maximumdistancegain:[61,5],referencedistanceratio:[61,6],panspreadangle:[61,7],rollangle:[61,8]}}static get MIDI_REGISTERED_PARAMETERS(){return this.validation,js.MIDI_REGISTERED_PARAMETERS}static get SYSTEM_MESSAGES(){return{sysex:240,timecode:241,songposition:242,songselect:243,tunerequest:246,tuningrequest:246,sysexend:247,clock:248,start:250,continue:251,stop:252,activesensing:254,reset:255,midimessage:0,unknownsystemmessage:-1}}static get MIDI_SYSTEM_MESSAGES(){return this.validation,js.SYSTEM_MESSAGES}static get CHANNEL_EVENTS(){return["noteoff","controlchange","noteon","keyaftertouch","programchange","channelaftertouch","pitchbend","allnotesoff","allsoundoff","localcontrol","monomode","omnimode","resetallcontrollers","nrpn","nrpn-dataentrycoarse","nrpn-dataentryfine","nrpn-dataincrement","nrpn-datadecrement","rpn","rpn-dataentrycoarse","rpn-dataentryfine","rpn-dataincrement","rpn-datadecrement","nrpn-databuttonincrement","nrpn-databuttondecrement","rpn-databuttonincrement","rpn-databuttondecrement"]}}
/**
 * The `Note` class represents a single musical note such as `"D3"`, `"G#4"`, `"F-1"`, `"Gb7"`, etc.
 *
 * `Note` objects can be played back on a single channel by calling
 * [`OutputChannel.playNote()`]{@link OutputChannel#playNote} or, on multiple channels of the same
 * output, by calling [`Output.playNote()`]{@link Output#playNote}.
 *
 * The note has [`attack`](#attack) and [`release`](#release) velocities set at `0.5` by default.
 * These can be changed by passing in the appropriate option. It is also possible to set a
 * system-wide default for attack and release velocities by using the
 * [`WebMidi.defaults`](WebMidi#defaults) property.
 *
 * If you prefer to work with raw MIDI values (`0` to `127`), you can use [`rawAttack`](#rawAttack) and
 * [`rawRelease`](#rawRelease) to both get and set the values.
 *
 * The note may have a [`duration`](#duration). If it does, playback will be automatically stopped
 * when the duration has elapsed by sending a `"noteoff"` event. By default, the duration is set to
 * `Infinity`. In this case, it will never stop playing unless explicitly stopped by calling a
 * method such as [`OutputChannel.stopNote()`]{@link OutputChannel#stopNote},
 * [`Output.stopNote()`]{@link Output#stopNote} or similar.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class zs{constructor(e,t={}){this.duration=Qs.defaults.note.duration,this.attack=Qs.defaults.note.attack,this.release=Qs.defaults.note.release,null!=t.duration&&(this.duration=t.duration),null!=t.attack&&(this.attack=t.attack),null!=t.rawAttack&&(this.attack=$s.from7bitToFloat(t.rawAttack)),null!=t.release&&(this.release=t.release),null!=t.rawRelease&&(this.release=$s.from7bitToFloat(t.rawRelease)),Number.isInteger(e)?this.identifier=$s.toNoteIdentifier(e):this.identifier=e}get identifier(){return this._name+(this._accidental||"")+this._octave}set identifier(e){const t=$s.getNoteDetails(e);if(Qs.validation&&!e)throw new Error("Invalid note identifier");this._name=t.name,this._accidental=t.accidental,this._octave=t.octave}get name(){return this._name}set name(e){if(Qs.validation&&(e=e.toUpperCase(),!["C","D","E","F","G","A","B"].includes(e)))throw new Error("Invalid name value");this._name=e}get accidental(){return this._accidental}set accidental(e){if(Qs.validation&&(e=e.toLowerCase(),!["#","##","b","bb"].includes(e)))throw new Error("Invalid accidental value");this._accidental=e}get octave(){return this._octave}set octave(e){if(Qs.validation&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid octave value");this._octave=e}get duration(){return this._duration}set duration(e){if(Qs.validation&&(e=parseFloat(e),isNaN(e)||null===e||e<0))throw new RangeError("Invalid duration value.");this._duration=e}get attack(){return this._attack}set attack(e){if(Qs.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid attack value.");this._attack=e}get release(){return this._release}set release(e){if(Qs.validation&&(e=parseFloat(e),isNaN(e)||!(e>=0&&e<=1)))throw new RangeError("Invalid release value.");this._release=e}get rawAttack(){return $s.fromFloatTo7Bit(this._attack)}set rawAttack(e){this._attack=$s.from7bitToFloat(e)}get rawRelease(){return $s.fromFloatTo7Bit(this._release)}set rawRelease(e){this._release=$s.from7bitToFloat(e)}get number(){return $s.toNoteNumber(this.identifier)}getOffsetNumber(e=0,t=0){return Qs.validation&&(e=parseInt(e)||0,t=parseInt(t)||0),Math.min(Math.max(this.number+12*e+t,0),127)}}
/**
 * The `Utilities` class contains general-purpose utility methods. All methods are static and
 * should be called using the class name. For example: `Utilities.getNoteDetails("C4")`.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class $s{
/**
   * Returns a MIDI note number matching the identifier passed in the form of a string. The
   * identifier must include the octave number. The identifier also optionally include a sharp (#),
   * a double sharp (##), a flat (b) or a double flat (bb) symbol. For example, these are all valid
   * identifiers: C5, G4, D#-1, F0, Gb7, Eb-1, Abb4, B##6, etc.
   *
   * When converting note identifiers to numbers, C4 is considered to be middle C (MIDI note number
   * 60) as per the scientific pitch notation standard.
   *
   * The resulting note number can be offset by using the `octaveOffset` parameter.
   *
   * @param identifier {string} The identifier in the form of a letter, followed by an optional "#",
   * "##", "b" or "bb" followed by the octave number. For exemple: C5, G4, D#-1, F0, Gb7, Eb-1,
   * Abb4, B##6, etc.
   *
   * @param {number} [octaveOffset=0] A integer to offset the octave by.
   *
   * @returns {number} The MIDI note number (an integer between 0 and 127).
   *
   * @throws RangeError Invalid 'octaveOffset' value
   *
   * @throws TypeError Invalid note identifier
   *
   * @license Apache-2.0
   * @since 3.0.0
   * @static
   */
static toNoteNumber(e,t=0){if(t=null==t?0:parseInt(t),isNaN(t))throw new RangeError("Invalid 'octaveOffset' value");"string"!=typeof e&&(e="");const n=this.getNoteDetails(e);if(!n)throw new TypeError("Invalid note identifier");let r=12*(n.octave+1+t);if(r+={C:0,D:2,E:4,F:5,G:7,A:9,B:11}[n.name],n.accidental&&(n.accidental.startsWith("b")?r-=n.accidental.length:r+=n.accidental.length),r<0||r>127)throw new RangeError("Invalid octaveOffset value");return r}static getNoteDetails(e){Number.isInteger(e)&&(e=this.toNoteIdentifier(e));const t=e.match(/^([CDEFGAB])(#{0,2}|b{0,2})(-?\d+)$/i);if(!t)throw new TypeError("Invalid note identifier");const n=t[1].toUpperCase(),r=parseInt(t[3]);let s=t[2].toLowerCase();s=""===s?void 0:s;return{accidental:s,identifier:n+(s||"")+r,name:n,octave:r}}static sanitizeChannels(e){let t;if(Qs.validation)if("all"===e)t=["all"];else if("none"===e)return[];return t=Array.isArray(e)?e:[e],t.indexOf("all")>-1&&(t=js.MIDI_CHANNEL_NUMBERS),t.map((function(e){return parseInt(e)})).filter((function(e){return e>=1&&e<=16}))}static toTimestamp(e){let t=!1;const n=parseFloat(e);return!isNaN(n)&&("string"==typeof e&&"+"===e.substring(0,1)?n>=0&&(t=Qs.time+n):n>=0&&(t=n),t)}static guessNoteNumber(e,t){t=parseInt(t)||0;let n=!1;if(Number.isInteger(e)&&e>=0&&e<=127)n=parseInt(e);else if(parseInt(e)>=0&&parseInt(e)<=127)n=parseInt(e);else if("string"==typeof e||e instanceof String)try{n=this.toNoteNumber(e.trim(),t)}catch(Xi){return!1}return n}static toNoteIdentifier(e,t){if(e=parseInt(e),isNaN(e)||e<0||e>127)throw new RangeError("Invalid note number");if(t=null==t?0:parseInt(t),isNaN(t))throw new RangeError("Invalid octaveOffset value");const n=Math.floor(e/12-1)+t;return["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"][e%12]+n.toString()}static buildNote(e,t={}){if(t.octaveOffset=parseInt(t.octaveOffset)||0,e instanceof zs)return e;let n=this.guessNoteNumber(e,t.octaveOffset);if(!1===n)throw new TypeError(`The input could not be parsed as a note (${e})`);return t.octaveOffset=void 0,new zs(n,t)}static buildNoteArray(e,t={}){let n=[];return Array.isArray(e)||(e=[e]),e.forEach((e=>{n.push(this.buildNote(e,t))})),n}static from7bitToFloat(e){return e===1/0&&(e=127),e=parseInt(e)||0,Math.min(Math.max(e/127,0),1)}static fromFloatTo7Bit(e){return e===1/0&&(e=1),e=parseFloat(e)||0,Math.min(Math.max(Math.round(127*e),0),127)}static fromMsbLsbToFloat(e,t=0){Qs.validation&&(e=Math.min(Math.max(parseInt(e)||0,0),127),t=Math.min(Math.max(parseInt(t)||0,0),127));const n=((e<<7)+t)/16383;return Math.min(Math.max(n,0),1)}static fromFloatToMsbLsb(e){Qs.validation&&(e=Math.min(Math.max(parseFloat(e)||0,0),1));const t=Math.round(16383*e);return{msb:t>>7,lsb:127&t}}static offsetNumber(e,t=0,n=0){if(Qs.validation){if(e=parseInt(e),isNaN(e))throw new Error("Invalid note number");t=parseInt(t)||0,n=parseInt(n)||0}return Math.min(Math.max(e+12*t+n,0),127)}static getPropertyByValue(e,t){return Object.keys(e).find((n=>e[n]===t))}static getCcNameByNumber(e){if(!Qs.validation||(e=parseInt(e))>=0&&e<=127)return js.CONTROL_CHANGE_MESSAGES[e].name}static getCcNumberByName(e){let t=js.CONTROL_CHANGE_MESSAGES.find((t=>t.name===e));return t?t.number:js.MIDI_CONTROL_CHANGE_MESSAGES[e]}static getChannelModeByNumber(e){if(!(e>=120&&e<=127))return!1;for(let t in js.CHANNEL_MODE_MESSAGES)if(js.CHANNEL_MODE_MESSAGES.hasOwnProperty(t)&&e===js.CHANNEL_MODE_MESSAGES[t])return t;return!1}static get isNode(){return"undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node}static get isBrowser(){return"undefined"!=typeof window&&void 0!==window.document}}
/**
 * The `OutputChannel` class represents a single output MIDI channel. `OutputChannel` objects are
 * provided by an [`Output`](Output) port which, itself, is made available by a device. The
 * `OutputChannel` object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `OutputChannel` objects can be found inside the parent output's
 * [`channels`]{@link Output#channels} property.
 *
 * @param {Output} output The [`Output`](Output) this channel belongs to.
 * @param {number} number The MIDI channel number (`1` - `16`).
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Ys extends Gs{constructor(e,t){super(),this._output=e,this._number=t,this._octaveOffset=0}destroy(){this._output=null,this._number=null,this._octaveOffset=0,this.removeListener()}send(e,t={time:0}){return this.output.send(e,t),this}sendKeyAftertouch(e,t,n={}){if(Qs.validation){if(n.useRawValue&&(n.rawValue=n.useRawValue),isNaN(parseFloat(t)))throw new RangeError("Invalid key aftertouch value.");if(n.rawValue){if(!(t>=0&&t<=127&&Number.isInteger(t)))throw new RangeError("Key aftertouch raw value must be an integer between 0 and 127.")}else if(!(t>=0&&t<=1))throw new RangeError("Key aftertouch value must be a float between 0 and 1.")}n.rawValue||(t=$s.fromFloatTo7Bit(t));const r=Qs.octaveOffset+this.output.octaveOffset+this.octaveOffset;return Array.isArray(e)||(e=[e]),$s.buildNoteArray(e).forEach((e=>{this.send([(js.CHANNEL_MESSAGES.keyaftertouch<<4)+(this.number-1),e.getOffsetNumber(r),t],{time:$s.toTimestamp(n.time)})})),this}
/**
   * Sends a MIDI **control change** message to the channel at the scheduled time. The control
   * change message to send can be specified numerically (`0` to `127`) or by using one of the
   * following common names:
   *
   * | Number | Name                          |
   * |--------|-------------------------------|
   * | 0      |`bankselectcoarse`             |
   * | 1      |`modulationwheelcoarse`        |
   * | 2      |`breathcontrollercoarse`       |
   * | 4      |`footcontrollercoarse`         |
   * | 5      |`portamentotimecoarse`         |
   * | 6      |`dataentrycoarse`              |
   * | 7      |`volumecoarse`                 |
   * | 8      |`balancecoarse`                |
   * | 10     |`pancoarse`                    |
   * | 11     |`expressioncoarse`             |
   * | 12     |`effectcontrol1coarse`         |
   * | 13     |`effectcontrol2coarse`         |
   * | 18     |`generalpurposeslider3`        |
   * | 19     |`generalpurposeslider4`        |
   * | 32     |`bankselectfine`               |
   * | 33     |`modulationwheelfine`          |
   * | 34     |`breathcontrollerfine`         |
   * | 36     |`footcontrollerfine`           |
   * | 37     |`portamentotimefine`           |
   * | 38     |`dataentryfine`                |
   * | 39     |`volumefine`                   |
   * | 40     |`balancefine`                  |
   * | 42     |`panfine`                      |
   * | 43     |`expressionfine`               |
   * | 44     |`effectcontrol1fine`           |
   * | 45     |`effectcontrol2fine`           |
   * | 64     |`holdpedal`                    |
   * | 65     |`portamento`                   |
   * | 66     |`sustenutopedal`               |
   * | 67     |`softpedal`                    |
   * | 68     |`legatopedal`                  |
   * | 69     |`hold2pedal`                   |
   * | 70     |`soundvariation`               |
   * | 71     |`resonance`                    |
   * | 72     |`soundreleasetime`             |
   * | 73     |`soundattacktime`              |
   * | 74     |`brightness`                   |
   * | 75     |`soundcontrol6`                |
   * | 76     |`soundcontrol7`                |
   * | 77     |`soundcontrol8`                |
   * | 78     |`soundcontrol9`                |
   * | 79     |`soundcontrol10`               |
   * | 80     |`generalpurposebutton1`        |
   * | 81     |`generalpurposebutton2`        |
   * | 82     |`generalpurposebutton3`        |
   * | 83     |`generalpurposebutton4`        |
   * | 91     |`reverblevel`                  |
   * | 92     |`tremololevel`                 |
   * | 93     |`choruslevel`                  |
   * | 94     |`celestelevel`                 |
   * | 95     |`phaserlevel`                  |
   * | 96     |`dataincrement`                |
   * | 97     |`datadecrement`                |
   * | 98     |`nonregisteredparametercoarse` |
   * | 99     |`nonregisteredparameterfine`   |
   * | 100    |`registeredparametercoarse`    |
   * | 101    |`registeredparameterfine`      |
   * | 120    |`allsoundoff`                  |
   * | 121    |`resetallcontrollers`          |
   * | 122    |`localcontrol`                 |
   * | 123    |`allnotesoff`                  |
   * | 124    |`omnimodeoff`                  |
   * | 125    |`omnimodeon`                   |
   * | 126    |`monomodeon`                   |
   * | 127    |`polymodeon`                   |
   *
   * As you can see above, not all control change message have a matching name. This does not mean
   * you cannot use the others. It simply means you will need to use their number
   * (`0` to `127`) instead of their name. While you can still use them, numbers `120` to `127` are
   * usually reserved for *channel mode* messages. See
   * [`sendChannelMode()`]{@link OutputChannel#sendChannelMode} method for more info.
   *
   * To view a detailed list of all available **control change** messages, please consult "Table 3 -
   * Control Change Messages" from the [MIDI Messages](
   * https://www.midi.org/specifications/item/table-3-control-change-messages-data-bytes-2)
   * specification.
   *
   * **Note**: messages #0-31 (MSB) are paired with messages #32-63 (LSB). For example, message #1
   * (`modulationwheelcoarse`) can be accompanied by a second control change message for
   * `modulationwheelfine` to achieve a greater level of precision. if you want to specify both MSB
   * and LSB for messages between `0` and `31`, you can do so by passing a 2-value array as the
   * second parameter.
   *
   * @param {number|string} controller The MIDI controller name or number (`0` - `127`).
   *
   * @param {number|number[]} value The value to send (0-127). You can also use a two-position array
   * for controllers 0 to 31. In this scenario, the first value will be sent as usual and the second
   * value will be sent to the matching LSB controller (which is obtained by adding 32 to the first
   * controller)
   *
   * @param {object} [options={}]
   *
   * @param {number|string} [options.time=(now)] If `time` is a string prefixed with `"+"` and
   * followed by a number, the message will be delayed by that many milliseconds. If the value is a
   * positive number
   * ([`DOMHighResTimeStamp`]{@link https://developer.mozilla.org/docs/Web/API/DOMHighResTimeStamp}),
   * the operation will be scheduled for that time. The current time can be retrieved with
   * [`WebMidi.time`]{@link WebMidi#time}. If `options.time` is omitted, or in the past, the
   * operation will be carried out as soon as possible.
   *
   * @throws {RangeError} Controller numbers must be between 0 and 127.
   * @throws {RangeError} Invalid controller name.
   * @throws {TypeError} The value array must have a length of 2.
   *
   * @returns {OutputChannel} Returns the `OutputChannel` object so methods can be chained.
   *
   * @license Apache-2.0
   * @since 3.0.0
   */sendControlChange(e,t,n={}){if("string"==typeof e&&(e=$s.getCcNumberByName(e)),Array.isArray(t)||(t=[t]),Qs.validation){if(void 0===e)throw new TypeError("Control change must be identified with a valid name or an integer between 0 and 127.");if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new TypeError("Control change number must be an integer between 0 and 127.");if(2===(t=t.map((e=>{const t=Math.min(Math.max(parseInt(e),0),127);if(isNaN(t))throw new TypeError("Values must be integers between 0 and 127");return t}))).length&&e>=32)throw new TypeError("To use a value array, the controller must be between 0 and 31")}return t.forEach(((r,s)=>{this.send([(js.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e+32*s,t[s]],{time:$s.toTimestamp(n.time)})})),this}_selectNonRegisteredParameter(e,t={}){return this.sendControlChange(99,e[0],t),this.sendControlChange(98,e[1],t),this}_deselectRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_deselectNonRegisteredParameter(e={}){return this.sendControlChange(101,127,e),this.sendControlChange(100,127,e),this}_selectRegisteredParameter(e,t={}){return this.sendControlChange(101,e[0],t),this.sendControlChange(100,e[1],t),this}_setCurrentParameter(e,t={}){return e=[].concat(e),this.sendControlChange(6,e[0],t),e.length<2||this.sendControlChange(38,e[1],t),this}sendRpnDecrement(e,t={}){if(Array.isArray(e)||(e=js.REGISTERED_PARAMETERS[e]),Qs.validation){if(void 0===e)throw new TypeError("The specified registered parameter is invalid.");let t=!1;if(Object.getOwnPropertyNames(js.REGISTERED_PARAMETERS).forEach((n=>{js.REGISTERED_PARAMETERS[n][0]===e[0]&&js.REGISTERED_PARAMETERS[n][1]===e[1]&&(t=!0)})),!t)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(97,0,t),this._deselectRegisteredParameter(t),this}sendRpnIncrement(e,t={}){if(Array.isArray(e)||(e=js.REGISTERED_PARAMETERS[e]),Qs.validation){if(void 0===e)throw new TypeError("The specified registered parameter is invalid.");let t=!1;if(Object.getOwnPropertyNames(js.REGISTERED_PARAMETERS).forEach((n=>{js.REGISTERED_PARAMETERS[n][0]===e[0]&&js.REGISTERED_PARAMETERS[n][1]===e[1]&&(t=!0)})),!t)throw new TypeError("The specified registered parameter is invalid.")}return this._selectRegisteredParameter(e,t),this.sendControlChange(96,0,t),this._deselectRegisteredParameter(t),this}playNote(e,t={}){this.sendNoteOn(e,t);const n=Array.isArray(e)?e:[e];for(let r of n)if(parseInt(r.duration)>0){const e={time:($s.toTimestamp(t.time)||Qs.time)+parseInt(r.duration),release:r.release,rawRelease:r.rawRelease};this.sendNoteOff(r,e)}else if(parseInt(t.duration)>0){const e={time:($s.toTimestamp(t.time)||Qs.time)+parseInt(t.duration),release:t.release,rawRelease:t.rawRelease};this.sendNoteOff(r,e)}return this}sendNoteOff(e,t={}){if(Qs.validation){if(null!=t.rawRelease&&!(t.rawRelease>=0&&t.rawRelease<=127))throw new RangeError("The 'rawRelease' option must be an integer between 0 and 127");if(null!=t.release&&!(t.release>=0&&t.release<=1))throw new RangeError("The 'release' option must be an number between 0 and 1");t.rawVelocity&&(t.rawRelease=t.velocity),t.velocity&&(t.release=t.velocity)}let n=64;null!=t.rawRelease?n=t.rawRelease:isNaN(t.release)||(n=Math.round(127*t.release));const r=Qs.octaveOffset+this.output.octaveOffset+this.octaveOffset;return $s.buildNoteArray(e,{rawRelease:parseInt(n)}).forEach((e=>{this.send([(js.CHANNEL_MESSAGES.noteoff<<4)+(this.number-1),e.getOffsetNumber(r),e.rawRelease],{time:$s.toTimestamp(t.time)})})),this}stopNote(e,t={}){return this.sendNoteOff(e,t)}sendNoteOn(e,t={}){if(Qs.validation){if(null!=t.rawAttack&&!(t.rawAttack>=0&&t.rawAttack<=127))throw new RangeError("The 'rawAttack' option must be an integer between 0 and 127");if(null!=t.attack&&!(t.attack>=0&&t.attack<=1))throw new RangeError("The 'attack' option must be an number between 0 and 1");t.rawVelocity&&(t.rawAttack=t.velocity,t.rawRelease=t.release),t.velocity&&(t.attack=t.velocity)}let n=64;null!=t.rawAttack?n=t.rawAttack:isNaN(t.attack)||(n=Math.round(127*t.attack));const r=Qs.octaveOffset+this.output.octaveOffset+this.octaveOffset;return $s.buildNoteArray(e,{rawAttack:n}).forEach((e=>{this.send([(js.CHANNEL_MESSAGES.noteon<<4)+(this.number-1),e.getOffsetNumber(r),e.rawAttack],{time:$s.toTimestamp(t.time)})})),this}sendChannelMode(e,t=0,n={}){if("string"==typeof e&&(e=js.CHANNEL_MODE_MESSAGES[e]),Qs.validation){if(void 0===e)throw new TypeError("Invalid channel mode message name or number.");if(isNaN(e)||!(e>=120&&e<=127))throw new TypeError("Invalid channel mode message number.");if(isNaN(parseInt(t))||t<0||t>127)throw new RangeError("Value must be an integer between 0 and 127.")}return this.send([(js.CHANNEL_MESSAGES.controlchange<<4)+(this.number-1),e,t],{time:$s.toTimestamp(n.time)}),this}sendOmniMode(e,t={}){return void 0===e||e?this.sendChannelMode("omnimodeon",0,t):this.sendChannelMode("omnimodeoff",0,t),this}sendChannelAftertouch(e,t={}){if(Qs.validation){if(isNaN(parseFloat(e)))throw new RangeError("Invalid channel aftertouch value.");if(t.rawValue){if(!(e>=0&&e<=127&&Number.isInteger(e)))throw new RangeError("Channel aftertouch raw value must be an integer between 0 and 127.")}else if(!(e>=0&&e<=1))throw new RangeError("Channel aftertouch value must be a float between 0 and 1.")}return t.rawValue||(e=$s.fromFloatTo7Bit(e)),this.send([(js.CHANNEL_MESSAGES.channelaftertouch<<4)+(this.number-1),Math.round(e)],{time:$s.toTimestamp(t.time)}),this}sendMasterTuning(e,t={}){if(e=parseFloat(e)||0,Qs.validation&&!(e>-65&&e<64))throw new RangeError("The value must be a decimal number larger than -65 and smaller than 64.");let n=Math.floor(e)+64,r=e-Math.floor(e);r=Math.round((r+1)/2*16383);let s=r>>7&127,i=127&r;return this.sendRpnValue("channelcoarsetuning",n,t),this.sendRpnValue("channelfinetuning",[s,i],t),this}sendModulationRange(e,t,n={}){if(Qs.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!(null==t||Number.isInteger(t)&&t>=0&&t<=127))throw new RangeError("If specified, the cents value must be an integer between 0 and 127.")}return t>=0&&t<=127||(t=0),this.sendRpnValue("modulationrange",[e,t],n),this}sendNrpnValue(e,t,n={}){if(t=[].concat(t),Qs.validation){if(!Array.isArray(e)||!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the NRPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the NRPN must be between 0 and 127.");t.forEach((e=>{if(!(e>=0&&e<=127))throw new RangeError("The data bytes of the NRPN must be between 0 and 127.")}))}return this._selectNonRegisteredParameter(e,n),this._setCurrentParameter(t,n),this._deselectNonRegisteredParameter(n),this}sendPitchBend(e,t={}){if(Qs.validation)if(t.rawValue&&Array.isArray(e)){if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The pitch bend LSB must be an integer between 0 and 127.")}else if(t.rawValue&&!Array.isArray(e)){if(!(e>=0&&e<=127))throw new RangeError("The pitch bend MSB must be an integer between 0 and 127.")}else{if(isNaN(e)||null===e)throw new RangeError("Invalid pitch bend value.");if(!(e>=-1&&e<=1))throw new RangeError("The pitch bend value must be a float between -1 and 1.")}let n=0,r=0;if(t.rawValue&&Array.isArray(e))n=e[0],r=e[1];else if(t.rawValue&&!Array.isArray(e))n=e;else{const t=$s.fromFloatToMsbLsb((e+1)/2);n=t.msb,r=t.lsb}return this.send([(js.CHANNEL_MESSAGES.pitchbend<<4)+(this.number-1),r,n],{time:$s.toTimestamp(t.time)}),this}sendPitchBendRange(e,t,n={}){if(Qs.validation){if(!Number.isInteger(e)||!(e>=0&&e<=127))throw new RangeError("The semitones value must be an integer between 0 and 127.");if(!Number.isInteger(t)||!(t>=0&&t<=127))throw new RangeError("The cents value must be an integer between 0 and 127.")}return this.sendRpnValue("pitchbendrange",[e,t],n),this}sendProgramChange(e,t={}){if(e=parseInt(e)||0,Qs.validation&&!(e>=0&&e<=127))throw new RangeError("The program number must be between 0 and 127.");return this.send([(js.CHANNEL_MESSAGES.programchange<<4)+(this.number-1),e],{time:$s.toTimestamp(t.time)}),this}sendRpnValue(e,t,n={}){if(Array.isArray(e)||(e=js.REGISTERED_PARAMETERS[e]),Qs.validation){if(!Number.isInteger(e[0])||!Number.isInteger(e[1]))throw new TypeError("The specified NRPN is invalid.");if(!(e[0]>=0&&e[0]<=127))throw new RangeError("The first byte of the RPN must be between 0 and 127.");if(!(e[1]>=0&&e[1]<=127))throw new RangeError("The second byte of the RPN must be between 0 and 127.");[].concat(t).forEach((e=>{if(!(e>=0&&e<=127))throw new RangeError("The data bytes of the RPN must be between 0 and 127.")}))}return this._selectRegisteredParameter(e,n),this._setCurrentParameter(t,n),this._deselectRegisteredParameter(n),this}sendTuningBank(e,t={}){if(Qs.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning bank number must be between 0 and 127.");return this.sendRpnValue("tuningbank",e,t),this}sendTuningProgram(e,t={}){if(Qs.validation&&(!Number.isInteger(e)||!(e>=0&&e<=127)))throw new RangeError("The tuning program number must be between 0 and 127.");return this.sendRpnValue("tuningprogram",e,t),this}sendLocalControl(e,t={}){return e?this.sendChannelMode("localcontrol",127,t):this.sendChannelMode("localcontrol",0,t)}sendAllNotesOff(e={}){return this.sendChannelMode("allnotesoff",0,e)}sendAllSoundOff(e={}){return this.sendChannelMode("allsoundoff",0,e)}sendResetAllControllers(e={}){return this.sendChannelMode("resetallcontrollers",0,e)}sendPolyphonicMode(e,t={}){return"mono"===e?this.sendChannelMode("monomodeon",0,t):this.sendChannelMode("polymodeon",0,t)}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get output(){return this._output}get number(){return this._number}}
/**
 * The `Output` class represents a single MIDI output port (not to be confused with a MIDI channel).
 * A port is made available by a MIDI device. A MIDI device can advertise several input and output
 * ports. Each port has 16 MIDI channels which can be accessed via the [`channels`](#channels)
 * property.
 *
 * The `Output` object is automatically instantiated by the library according to the host's MIDI
 * subsystem and should not be directly instantiated.
 *
 * You can access all available `Output` objects by referring to the
 * [`WebMidi.outputs`](WebMidi#outputs) array or by using methods such as
 * [`WebMidi.getOutputByName()`](WebMidi#getOutputByName) or
 * [`WebMidi.getOutputById()`](WebMidi#getOutputById).
 *
 * @fires Output#opened
 * @fires Output#disconnected
 * @fires Output#closed
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class qs extends Gs{constructor(e){super(),this._midiOutput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new Ys(this,t);this._midiOutput.onstatechange=this._onStateChange.bind(this)}async destroy(){this.removeListener(),this.channels.forEach((e=>e.destroy())),this.channels=[],this._midiOutput&&(this._midiOutput.onstatechange=null),await this.close(),this._midiOutput=null}_onStateChange(e){let t={timestamp:Qs.time};"open"===e.port.connection?(t.type="opened",t.target=this,t.port=t.target,this.emit("opened",t)):"closed"===e.port.connection&&"connected"===e.port.state?(t.type="closed",t.target=this,t.port=t.target,this.emit("closed",t)):"closed"===e.port.connection&&"disconnected"===e.port.state?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):"pending"===e.port.connection&&e.port.state}async open(){try{return await this._midiOutput.open(),Promise.resolve(this)}catch(e){return Promise.reject(e)}}async close(){this._midiOutput?await this._midiOutput.close():await Promise.resolve()}
/**
   * Sends a MIDI message on the MIDI output port. If no time is specified, the message will be
   * sent immediately. The message should be an array of 8 bit unsigned integers (0-225), a
   * [`Uint8Array`]{@link https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array}
   * object or a [`Message`](Message) object.
   *
   * It is usually not necessary to use this method directly as you can use one of the simpler
   * helper methods such as [`playNote()`](#playNote), [`stopNote()`](#stopNote),
   * [`sendControlChange()`](#sendControlChange), etc.
   *
   * Details on the format of MIDI messages are available in the summary of
   * [MIDI messages]{@link https://www.midi.org/specifications-old/item/table-1-summary-of-midi-message}
   * from the MIDI Manufacturers Association.
   *
   * @param message {number[]|Uint8Array|Message} An array of 8bit unsigned integers, a `Uint8Array`
   * object (not available in Node.js) containing the message bytes or a `Message` object.
   *
   * @param {object} [options={}]
   *
   * @param {number|string} [options.time=(now)] If `time` is a string prefixed with `"+"` and
   * followed by a number, the message will be delayed by that many milliseconds. If the value is a
   * positive number
   * ([`DOMHighResTimeStamp`]{@link https://developer.mozilla.org/docs/Web/API/DOMHighResTimeStamp}),
   * the operation will be scheduled for that time. The current time can be retrieved with
   * [`WebMidi.time`]{@link WebMidi#time}. If `options.time` is omitted, or in the past, the
   * operation will be carried out as soon as possible.
   *
   * @throws {RangeError} The first byte (status) must be an integer between 128 and 255.
   *
   * @returns {Output} Returns the `Output` object so methods can be chained.
   *
   * @license Apache-2.0
   */send(e,t={time:0},n=0){if(e instanceof Js&&(e=$s.isNode?e.data:e.rawData),e instanceof Uint8Array&&$s.isNode&&(e=Array.from(e)),Qs.validation){if(Array.isArray(e)||e instanceof Uint8Array||(e=[e],Array.isArray(t)&&(e=e.concat(t)),t=isNaN(n)?{time:0}:{time:n}),!(parseInt(e[0])>=128&&parseInt(e[0])<=255))throw new RangeError("The first byte (status) must be an integer between 128 and 255.");e.slice(1).forEach((e=>{if(!((e=parseInt(e))>=0&&e<=255))throw new RangeError("Data bytes must be integers between 0 and 255.")})),t||(t={time:0})}return this._midiOutput.send(e,$s.toTimestamp(t.time)),this}sendSysex(e,t=[],n={}){if(e=[].concat(e),t instanceof Uint8Array){const r=new Uint8Array(1+e.length+t.length+1);r[0]=js.SYSTEM_MESSAGES.sysex,r.set(Uint8Array.from(e),1),r.set(t,1+e.length),r[r.length-1]=js.SYSTEM_MESSAGES.sysexend,this.send(r,{time:n.time})}else{const r=e.concat(t,js.SYSTEM_MESSAGES.sysexend);this.send([js.SYSTEM_MESSAGES.sysex].concat(r),{time:n.time})}return this}clear(){return this._midiOutput.clear?this._midiOutput.clear():Qs.validation,this}sendTimecodeQuarterFrame(e,t={}){if(Qs.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The value must be an integer between 0 and 127.");return this.send([js.SYSTEM_MESSAGES.timecode,e],{time:t.time}),this}sendSongPosition(e=0,t={}){var n=(e=Math.floor(e)||0)>>7&127,r=127&e;return this.send([js.SYSTEM_MESSAGES.songposition,n,r],{time:t.time}),this}sendSongSelect(e=0,t={}){if(Qs.validation&&(e=parseInt(e),isNaN(e)||!(e>=0&&e<=127)))throw new RangeError("The program value must be between 0 and 127");return this.send([js.SYSTEM_MESSAGES.songselect,e],{time:t.time}),this}sendTuneRequest(e={}){return this.send([js.SYSTEM_MESSAGES.tunerequest],{time:e.time}),this}sendClock(e={}){return this.send([js.SYSTEM_MESSAGES.clock],{time:e.time}),this}sendStart(e={}){return this.send([js.SYSTEM_MESSAGES.start],{time:e.time}),this}sendContinue(e={}){return this.send([js.SYSTEM_MESSAGES.continue],{time:e.time}),this}sendStop(e={}){return this.send([js.SYSTEM_MESSAGES.stop],{time:e.time}),this}sendActiveSensing(e={}){return this.send([js.SYSTEM_MESSAGES.activesensing],{time:e.time}),this}sendReset(e={}){return this.send([js.SYSTEM_MESSAGES.reset],{time:e.time}),this}sendTuningRequest(e={}){return Qs.validation,this.sendTuneRequest(e)}sendKeyAftertouch(e,t,n={}){return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendKeyAftertouch(e,t,n)})),this}sendControlChange(e,t,n={},r={}){if(Qs.validation&&(Array.isArray(n)||Number.isInteger(n)||"all"===n)){const e=n;(n=r).channels=e,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)}return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendControlChange(e,t,n)})),this}sendPitchBendRange(e=0,t=0,n={}){return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendPitchBendRange(e,t,n)})),this}setPitchBendRange(e=0,t=0,n="all",r={}){return Qs.validation&&(r.channels=n,"all"===r.channels&&(r.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendPitchBendRange(e,t,r)}sendRpnValue(e,t,n={}){return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendRpnValue(e,t,n)})),this}setRegisteredParameter(e,t=[],n="all",r={}){return Qs.validation&&(r.channels=n,"all"===r.channels&&(r.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendRpnValue(e,t,r)}sendChannelAftertouch(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendChannelAftertouch(e,t)})),this}sendPitchBend(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendPitchBend(e,t)})),this}sendProgramChange(e=0,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendProgramChange(e,t)})),this}sendModulationRange(e,t,n={}){return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendModulationRange(e,t,n)})),this}setModulationRange(e=0,t=0,n="all",r={}){return Qs.validation&&(r.channels=n,"all"===r.channels&&(r.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendModulationRange(e,t,r)}sendMasterTuning(e,t={}){return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendMasterTuning(e,t)})),this}setMasterTuning(e,t={},n={}){return Qs.validation&&(n.channels=t,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendMasterTuning(e,n)}sendTuningProgram(e,t={}){return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendTuningProgram(e,t)})),this}setTuningProgram(e,t="all",n={}){return Qs.validation&&(n.channels=t,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendTuningProgram(e,n)}sendTuningBank(e=0,t={}){return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendTuningBank(e,t)})),this}setTuningBank(e,t="all",n={}){return Qs.validation&&(n.channels=t,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendTuningBank(e,n)}sendChannelMode(e,t=0,n={},r={}){if(Qs.validation&&(Array.isArray(n)||Number.isInteger(n)||"all"===n)){const e=n;(n=r).channels=e,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)}return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendChannelMode(e,t,n)})),this}sendAllSoundOff(e={}){return null==e.channels&&(e.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(e.channels).forEach((t=>{this.channels[t].sendAllSoundOff(e)})),this}sendAllNotesOff(e={}){return null==e.channels&&(e.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(e.channels).forEach((t=>{this.channels[t].sendAllNotesOff(e)})),this}sendResetAllControllers(e={},t={}){if(Qs.validation&&(Array.isArray(e)||Number.isInteger(e)||"all"===e)){const n=e;(e=t).channels=n,"all"===e.channels&&(e.channels=js.MIDI_CHANNEL_NUMBERS)}return null==e.channels&&(e.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(e.channels).forEach((t=>{this.channels[t].sendResetAllControllers(e)})),this}sendPolyphonicMode(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendPolyphonicMode(e,t)})),this}sendLocalControl(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendLocalControl(e,t)})),this}sendOmniMode(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendOmniMode(e,t)})),this}sendNrpnValue(e,t,n={}){return null==n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].sendNrpnValue(e,t,n)})),this}setNonRegisteredParameter(e,t=[],n="all",r={}){return Qs.validation&&(r.channels=n,"all"===r.channels&&(r.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendNrpnValue(e,t,r)}sendRpnIncrement(e,t={}){return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendRpnIncrement(e,t)})),this}incrementRegisteredParameter(e,t="all",n={}){return Qs.validation&&(n.channels=t,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendRpnIncrement(e,n)}sendRpnDecrement(e,t={}){return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendRpnDecrement(e,t)})),this}decrementRegisteredParameter(e,t="all",n={}){return Qs.validation&&(n.channels=t,"all"===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS)),this.sendRpnDecrement(e,n)}sendNoteOff(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendNoteOff(e,t)})),this}stopNote(e,t){return this.sendNoteOff(e,t)}playNote(e,t={},n={}){if(Qs.validation&&(t.rawVelocity,t.velocity,Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].playNote(e,t)})),this}sendNoteOn(e,t={},n={}){if(Qs.validation&&(Array.isArray(t)||Number.isInteger(t)||"all"===t)){const e=t;(t=n).channels=e,"all"===t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS)}return null==t.channels&&(t.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(t.channels).forEach((n=>{this.channels[n].sendNoteOn(e,t)})),this}get name(){return this._midiOutput.name}get id(){return this._midiOutput.id}get connection(){return this._midiOutput.connection}get manufacturer(){return this._midiOutput.manufacturer}get state(){return this._midiOutput.state}get type(){return this._midiOutput.type}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}}
/**
 * The `Forwarder` class allows the forwarding of MIDI messages to predetermined outputs. When you
 * call its [`forward()`](#forward) method, it will send the specified [`Message`](Message) object
 * to all the outputs listed in its [`destinations`](#destinations) property.
 *
 * If specific channels or message types have been defined in the [`channels`](#channels) or
 * [`types`](#types) properties, only messages matching the channels/types will be forwarded.
 *
 * While it can be manually instantiated, you are more likely to come across a `Forwarder` object as
 * the return value of the [`Input.addForwarder()`](Input#addForwarder) method.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Ws{constructor(e=[],t={}){this.destinations=[],this.types=[...Object.keys(js.SYSTEM_MESSAGES),...Object.keys(js.CHANNEL_MESSAGES)],this.channels=js.MIDI_CHANNEL_NUMBERS,this.suspended=!1,Array.isArray(e)||(e=[e]),t.types&&!Array.isArray(t.types)&&(t.types=[t.types]),t.channels&&!Array.isArray(t.channels)&&(t.channels=[t.channels]),Qs.validation&&(e.forEach((e=>{if(!(e instanceof qs))throw new TypeError("Destinations must be of type 'Output'.")})),void 0!==t.types&&t.types.forEach((e=>{if(!js.SYSTEM_MESSAGES.hasOwnProperty(e)&&!js.CHANNEL_MESSAGES.hasOwnProperty(e))throw new TypeError("Type must be a valid message type.")})),void 0!==t.channels&&t.channels.forEach((e=>{if(!js.MIDI_CHANNEL_NUMBERS.includes(e))throw new TypeError("MIDI channel must be between 1 and 16.")}))),this.destinations=e,t.types&&(this.types=t.types),t.channels&&(this.channels=t.channels)}forward(e){this.suspended||this.types.includes(e.type)&&(e.channel&&!this.channels.includes(e.channel)||this.destinations.forEach((t=>{(!Qs.validation||t instanceof qs)&&t.send(e)})))}}
/**
 * The `InputChannel` class represents a single MIDI input channel (1-16) from a single input
 * device. This object is derived from the host's MIDI subsystem and should not be instantiated
 * directly.
 *
 * All 16 `InputChannel` objects can be found inside the input's [`channels`](Input#channels)
 * property.
 *
 * @fires InputChannel#midimessage
 * @fires InputChannel#unknownmessage
 *
 * @fires InputChannel#noteoff
 * @fires InputChannel#noteon
 * @fires InputChannel#keyaftertouch
 * @fires InputChannel#programchange
 * @fires InputChannel#channelaftertouch
 * @fires InputChannel#pitchbend
 *
 * @fires InputChannel#allnotesoff
 * @fires InputChannel#allsoundoff
 * @fires InputChannel#localcontrol
 * @fires InputChannel#monomode
 * @fires InputChannel#omnimode
 * @fires InputChannel#resetallcontrollers
 *
 * @fires InputChannel#event:nrpn
 * @fires InputChannel#event:nrpn-dataentrycoarse
 * @fires InputChannel#event:nrpn-dataentryfine
 * @fires InputChannel#event:nrpn-dataincrement
 * @fires InputChannel#event:nrpn-datadecrement
 * @fires InputChannel#event:rpn
 * @fires InputChannel#event:rpn-dataentrycoarse
 * @fires InputChannel#event:rpn-dataentryfine
 * @fires InputChannel#event:rpn-dataincrement
 * @fires InputChannel#event:rpn-datadecrement
 *
 * @fires InputChannel#controlchange
 * @fires InputChannel#event:controlchange-controllerxxx
 * @fires InputChannel#event:controlchange-bankselectcoarse
 * @fires InputChannel#event:controlchange-modulationwheelcoarse
 * @fires InputChannel#event:controlchange-breathcontrollercoarse
 * @fires InputChannel#event:controlchange-footcontrollercoarse
 * @fires InputChannel#event:controlchange-portamentotimecoarse
 * @fires InputChannel#event:controlchange-dataentrycoarse
 * @fires InputChannel#event:controlchange-volumecoarse
 * @fires InputChannel#event:controlchange-balancecoarse
 * @fires InputChannel#event:controlchange-pancoarse
 * @fires InputChannel#event:controlchange-expressioncoarse
 * @fires InputChannel#event:controlchange-effectcontrol1coarse
 * @fires InputChannel#event:controlchange-effectcontrol2coarse
 * @fires InputChannel#event:controlchange-generalpurposecontroller1
 * @fires InputChannel#event:controlchange-generalpurposecontroller2
 * @fires InputChannel#event:controlchange-generalpurposecontroller3
 * @fires InputChannel#event:controlchange-generalpurposecontroller4
 * @fires InputChannel#event:controlchange-bankselectfine
 * @fires InputChannel#event:controlchange-modulationwheelfine
 * @fires InputChannel#event:controlchange-breathcontrollerfine
 * @fires InputChannel#event:controlchange-footcontrollerfine
 * @fires InputChannel#event:controlchange-portamentotimefine
 * @fires InputChannel#event:controlchange-dataentryfine
 * @fires InputChannel#event:controlchange-channelvolumefine
 * @fires InputChannel#event:controlchange-balancefine
 * @fires InputChannel#event:controlchange-panfine
 * @fires InputChannel#event:controlchange-expressionfine
 * @fires InputChannel#event:controlchange-effectcontrol1fine
 * @fires InputChannel#event:controlchange-effectcontrol2fine
 * @fires InputChannel#event:controlchange-damperpedal
 * @fires InputChannel#event:controlchange-portamento
 * @fires InputChannel#event:controlchange-sostenuto
 * @fires InputChannel#event:controlchange-softpedal
 * @fires InputChannel#event:controlchange-legatopedal
 * @fires InputChannel#event:controlchange-hold2
 * @fires InputChannel#event:controlchange-soundvariation
 * @fires InputChannel#event:controlchange-resonance
 * @fires InputChannel#event:controlchange-releasetime
 * @fires InputChannel#event:controlchange-attacktime
 * @fires InputChannel#event:controlchange-brightness
 * @fires InputChannel#event:controlchange-decaytime
 * @fires InputChannel#event:controlchange-vibratorate
 * @fires InputChannel#event:controlchange-vibratodepth
 * @fires InputChannel#event:controlchange-vibratodelay
 * @fires InputChannel#event:controlchange-generalpurposecontroller5
 * @fires InputChannel#event:controlchange-generalpurposecontroller6
 * @fires InputChannel#event:controlchange-generalpurposecontroller7
 * @fires InputChannel#event:controlchange-generalpurposecontroller8
 * @fires InputChannel#event:controlchange-portamentocontrol
 * @fires InputChannel#event:controlchange-highresolutionvelocityprefix
 * @fires InputChannel#event:controlchange-effect1depth
 * @fires InputChannel#event:controlchange-effect2depth
 * @fires InputChannel#event:controlchange-effect3depth
 * @fires InputChannel#event:controlchange-effect4depth
 * @fires InputChannel#event:controlchange-effect5depth
 * @fires InputChannel#event:controlchange-dataincrement
 * @fires InputChannel#event:controlchange-datadecrement
 * @fires InputChannel#event:controlchange-nonregisteredparameterfine
 * @fires InputChannel#event:controlchange-nonregisteredparametercoarse
 * @fires InputChannel#event:controlchange-registeredparameterfine
 * @fires InputChannel#event:controlchange-registeredparametercoarse
 * @fires InputChannel#event:controlchange-allsoundoff
 * @fires InputChannel#event:controlchange-resetallcontrollers
 * @fires InputChannel#event:controlchange-localcontrol
 * @fires InputChannel#event:controlchange-allnotesoff
 * @fires InputChannel#event:controlchange-omnimodeoff
 * @fires InputChannel#event:controlchange-omnimodeon
 * @fires InputChannel#event:controlchange-monomodeon
 * @fires InputChannel#event:controlchange-polymodeon
 * @fires InputChannel#event:
 *
 * @extends EventEmitter
 * @license Apache-2.0
 * @since 3.0.0
 */class Ks extends Gs{constructor(e,t){super(),this._input=e,this._number=t,this._octaveOffset=0,this._nrpnBuffer=[],this._rpnBuffer=[],this.parameterNumberEventsEnabled=!0,this.notesState=new Array(128).fill(!1)}destroy(){this._input=null,this._number=null,this._octaveOffset=0,this._nrpnBuffer=[],this.notesState=new Array(128).fill(!1),this.parameterNumberEventsEnabled=!1,this.removeListener()}_processMidiMessageEvent(e){const t=Object.assign({},e);t.port=this.input,t.target=this,t.type="midimessage",this.emit(t.type,t),this._parseEventForStandardMessages(t)}_parseEventForStandardMessages(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmessage";const n=e.message.dataBytes[0],r=e.message.dataBytes[1];if("noteoff"===t.type||"noteon"===t.type&&0===r)this.notesState[n]=!1,t.type="noteoff",t.note=new zs($s.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Qs.octaveOffset),{rawAttack:0,rawRelease:r}),t.value=$s.from7bitToFloat(r),t.rawValue=r,t.velocity=t.note.release,t.rawVelocity=t.note.rawRelease;else if("noteon"===t.type)this.notesState[n]=!0,t.note=new zs($s.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Qs.octaveOffset),{rawAttack:r}),t.value=$s.from7bitToFloat(r),t.rawValue=r,t.velocity=t.note.attack,t.rawVelocity=t.note.rawAttack;else if("keyaftertouch"===t.type)t.note=new zs($s.offsetNumber(n,this.octaveOffset+this.input.octaveOffset+Qs.octaveOffset)),t.value=$s.from7bitToFloat(r),t.rawValue=r,t.identifier=t.note.identifier,t.key=t.note.number,t.rawKey=n;else if("controlchange"===t.type){t.controller={number:n,name:js.CONTROL_CHANGE_MESSAGES[n].name,description:js.CONTROL_CHANGE_MESSAGES[n].description,position:js.CONTROL_CHANGE_MESSAGES[n].position},t.subtype=t.controller.name||"controller"+n,t.value=$s.from7bitToFloat(r),t.rawValue=r;const e=Object.assign({},t);e.type=`${t.type}-controller${n}`,delete e.subtype,this.emit(e.type,e);const s=Object.assign({},t);s.type=`${t.type}-`+js.CONTROL_CHANGE_MESSAGES[n].name,delete s.subtype,0!==s.type.indexOf("controller")&&this.emit(s.type,s),t.message.dataBytes[0]>=120&&this._parseChannelModeMessage(t),this.parameterNumberEventsEnabled&&this._isRpnOrNrpnController(t.message.dataBytes[0])&&this._parseEventForParameterNumber(t)}else"programchange"===t.type?(t.value=n,t.rawValue=t.value):"channelaftertouch"===t.type?(t.value=$s.from7bitToFloat(n),t.rawValue=n):"pitchbend"===t.type?(t.value=((r<<7)+n-8192)/8192,t.rawValue=(r<<7)+n):t.type="unknownmessage";this.emit(t.type,t)}_parseChannelModeMessage(e){const t=Object.assign({},e);t.type=t.controller.name,"localcontrol"===t.type&&(t.value=127===t.message.data[2],t.rawValue=t.message.data[2]),"omnimodeon"===t.type?(t.type="omnimode",t.value=!0,t.rawValue=t.message.data[2]):"omnimodeoff"===t.type&&(t.type="omnimode",t.value=!1,t.rawValue=t.message.data[2]),"monomodeon"===t.type?(t.type="monomode",t.value=!0,t.rawValue=t.message.data[2]):"polymodeon"===t.type&&(t.type="monomode",t.value=!1,t.rawValue=t.message.data[2]),this.emit(t.type,t)}_parseEventForParameterNumber(e){const t=e.message.dataBytes[0],n=e.message.dataBytes[1];99===t||101===t?(this._nrpnBuffer=[],this._rpnBuffer=[],99===t?this._nrpnBuffer=[e.message]:127!==n&&(this._rpnBuffer=[e.message])):98===t||100===t?98===t?(this._rpnBuffer=[],1===this._nrpnBuffer.length?this._nrpnBuffer.push(e.message):this._nrpnBuffer=[]):(this._nrpnBuffer=[],1===this._rpnBuffer.length&&127!==n?this._rpnBuffer.push(e.message):this._rpnBuffer=[]):6!==t&&38!==t&&96!==t&&97!==t||(2===this._rpnBuffer.length?this._dispatchParameterNumberEvent("rpn",this._rpnBuffer[0].dataBytes[1],this._rpnBuffer[1].dataBytes[1],e):2===this._nrpnBuffer.length?this._dispatchParameterNumberEvent("nrpn",this._nrpnBuffer[0].dataBytes[1],this._nrpnBuffer[1].dataBytes[1],e):(this._nrpnBuffer=[],this._rpnBuffer=[]))}_isRpnOrNrpnController(e){return 6===e||38===e||96===e||97===e||98===e||99===e||100===e||101===e}_dispatchParameterNumberEvent(e,t,n,r){e="nrpn"===e?"nrpn":"rpn";const s={target:r.target,timestamp:r.timestamp,message:r.message,parameterMsb:t,parameterLsb:n,value:$s.from7bitToFloat(r.message.dataBytes[1]),rawValue:r.message.dataBytes[1]};s.parameter="rpn"===e?Object.keys(js.REGISTERED_PARAMETERS).find((e=>js.REGISTERED_PARAMETERS[e][0]===t&&js.REGISTERED_PARAMETERS[e][1]===n)):(t<<7)+n;const i=js.CONTROL_CHANGE_MESSAGES[r.message.dataBytes[0]].name;s.type=`${e}-${i}`,this.emit(s.type,s);const o=Object.assign({},s);"nrpn-dataincrement"===o.type?o.type="nrpn-databuttonincrement":"nrpn-datadecrement"===o.type?o.type="nrpn-databuttondecrement":"rpn-dataincrement"===o.type?o.type="rpn-databuttonincrement":"rpn-datadecrement"===o.type&&(o.type="rpn-databuttondecrement"),this.emit(o.type,o),s.type=e,s.subtype=i,this.emit(s.type,s)}getChannelModeByNumber(e){return Qs.validation&&(e=Math.floor(e)),$s.getChannelModeByNumber(e)}getCcNameByNumber(e){if(Qs.validation&&!((e=parseInt(e))>=0&&e<=127))throw new RangeError("Invalid control change number.");return $s.getCcNameByNumber(e)}getNoteState(e){e instanceof zs&&(e=e.identifier);const t=$s.guessNoteNumber(e,Qs.octaveOffset+this.input.octaveOffset+this.octaveOffset);return this.notesState[t]}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get input(){return this._input}get number(){return this._number}get nrpnEventsEnabled(){return this.parameterNumberEventsEnabled}set nrpnEventsEnabled(e){this.validation&&(e=!!e),this.parameterNumberEventsEnabled=e}}
/**
 * The `Message` class represents a single MIDI message. It has several properties that make it
 * easy to make sense of the binary data it contains.
 *
 * @license Apache-2.0
 * @since 3.0.0
 */class Js{constructor(e){this.rawData=e,this.data=Array.from(this.rawData),this.statusByte=this.rawData[0],this.rawDataBytes=this.rawData.slice(1),this.dataBytes=this.data.slice(1),this.isChannelMessage=!1,this.isSystemMessage=!1,this.command=void 0,this.channel=void 0,this.manufacturerId=void 0,this.type=void 0,this.statusByte<240?(this.isChannelMessage=!0,this.command=this.statusByte>>4,this.channel=1+(15&this.statusByte)):(this.isSystemMessage=!0,this.command=this.statusByte),this.isChannelMessage?this.type=$s.getPropertyByValue(js.CHANNEL_MESSAGES,this.command):this.isSystemMessage&&(this.type=$s.getPropertyByValue(js.SYSTEM_MESSAGES,this.command)),this.statusByte===js.SYSTEM_MESSAGES.sysex&&(0===this.dataBytes[0]?(this.manufacturerId=this.dataBytes.slice(0,3),this.dataBytes=this.dataBytes.slice(3,this.rawDataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(3,this.rawDataBytes.length-1)):(this.manufacturerId=[this.dataBytes[0]],this.dataBytes=this.dataBytes.slice(1,this.dataBytes.length-1),this.rawDataBytes=this.rawDataBytes.slice(1,this.rawDataBytes.length-1)))}}
/**
 * The `Input` class represents a single MIDI input port. This object is automatically instantiated
 * by the library according to the host's MIDI subsystem and does not need to be directly
 * instantiated. Instead, you can access all `Input` objects by referring to the
 * [`WebMidi.inputs`](WebMidi#inputs) array. You can also retrieve inputs by using methods such as
 * [`WebMidi.getInputByName()`](WebMidi#getInputByName) and
 * [`WebMidi.getInputById()`](WebMidi#getInputById).
 *
 * Note that a single MIDI device may expose several inputs and/or outputs.
 *
 * **Important**: the `Input` class does not directly fire channel-specific MIDI messages
 * (such as [`noteon`](InputChannel#event:noteon) or
 * [`controlchange`](InputChannel#event:controlchange), etc.). The [`InputChannel`](InputChannel)
 * object does that. However, you can still use the
 * [`Input.addListener()`](#addListener) method to listen to channel-specific events on multiple
 * [`InputChannel`](InputChannel) objects at once.
 *
 * @fires Input#opened
 * @fires Input#disconnected
 * @fires Input#closed
 * @fires Input#midimessage
 *
 * @fires Input#sysex
 * @fires Input#timecode
 * @fires Input#songposition
 * @fires Input#songselect
 * @fires Input#tunerequest
 * @fires Input#clock
 * @fires Input#start
 * @fires Input#continue
 * @fires Input#stop
 * @fires Input#activesensing
 * @fires Input#reset
 *
 * @fires Input#unknownmidimessage
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */class Zs extends Gs{constructor(e){super(),this._midiInput=e,this._octaveOffset=0,this.channels=[];for(let t=1;t<=16;t++)this.channels[t]=new Ks(this,t);this._forwarders=[],this._midiInput.onstatechange=this._onStateChange.bind(this),this._midiInput.onmidimessage=this._onMidiMessage.bind(this)}async destroy(){this.removeListener(),this.channels.forEach((e=>e.destroy())),this.channels=[],this._forwarders=[],this._midiInput&&(this._midiInput.onstatechange=null,this._midiInput.onmidimessage=null),await this.close(),this._midiInput=null}_onStateChange(e){let t={timestamp:Qs.time,target:this,port:this};"open"===e.port.connection?(t.type="opened",this.emit("opened",t)):"closed"===e.port.connection&&"connected"===e.port.state?(t.type="closed",this.emit("closed",t)):"closed"===e.port.connection&&"disconnected"===e.port.state?(t.type="disconnected",t.port={connection:e.port.connection,id:e.port.id,manufacturer:e.port.manufacturer,name:e.port.name,state:e.port.state,type:e.port.type},this.emit("disconnected",t)):"pending"===e.port.connection&&e.port.state}_onMidiMessage(e){const t=new Js(e.data),n={port:this,target:this,message:t,timestamp:e.timeStamp,type:"midimessage",data:t.data,rawData:t.data,statusByte:t.data[0],dataBytes:t.dataBytes};this.emit("midimessage",n),t.isSystemMessage?this._parseEvent(n):t.isChannelMessage&&this.channels[t.channel]._processMidiMessageEvent(n),this._forwarders.forEach((e=>e.forward(t)))}_parseEvent(e){const t=Object.assign({},e);t.type=t.message.type||"unknownmidimessage","songselect"===t.type&&(t.song=e.data[1]+1,t.value=e.data[1],t.rawValue=t.value),this.emit(t.type,t)}async open(){try{await this._midiInput.open()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}async close(){if(!this._midiInput)return Promise.resolve(this);try{await this._midiInput.close()}catch(e){return Promise.reject(e)}return Promise.resolve(this)}getChannelModeByNumber(){Qs.validation}addListener(e,t,n={}){if(Qs.validation&&"function"==typeof n){let e=null!=t?[].concat(t):void 0;t=n,n={channels:e}}if(js.CHANNEL_EVENTS.includes(e)){void 0===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS);let r=[];return $s.sanitizeChannels(n.channels).forEach((s=>{r.push(this.channels[s].addListener(e,t,n))})),r}return super.addListener(e,t,n)}addOneTimeListener(e,t,n={}){return n.remaining=1,this.addListener(e,t,n)}on(e,t,n,r){return this.addListener(e,t,n,r)}hasListener(e,t,n={}){if(Qs.validation&&"function"==typeof n){let e=[].concat(t);t=n,n={channels:e}}return js.CHANNEL_EVENTS.includes(e)?(void 0===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),$s.sanitizeChannels(n.channels).every((n=>this.channels[n].hasListener(e,t)))):super.hasListener(e,t)}removeListener(e,t,n={}){if(Qs.validation&&"function"==typeof n){let e=[].concat(t);t=n,n={channels:e}}if(void 0===n.channels&&(n.channels=js.MIDI_CHANNEL_NUMBERS),null==e)return $s.sanitizeChannels(n.channels).forEach((e=>{this.channels[e]&&this.channels[e].removeListener()})),super.removeListener();js.CHANNEL_EVENTS.includes(e)?$s.sanitizeChannels(n.channels).forEach((r=>{this.channels[r].removeListener(e,t,n)})):super.removeListener(e,t,n)}addForwarder(e,t={}){let n;return n=e instanceof Ws?e:new Ws(e,t),this._forwarders.push(n),n}removeForwarder(e){this._forwarders=this._forwarders.filter((t=>t!==e))}hasForwarder(e){return this._forwarders.includes(e)}get name(){return this._midiInput.name}get id(){return this._midiInput.id}get connection(){return this._midiInput.connection}get manufacturer(){return this._midiInput.manufacturer}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get state(){return this._midiInput.state}get type(){return this._midiInput.type}get nrpnEventsEnabled(){return Qs.validation,!1}}
/**
 * The `WebMidi` object makes it easier to work with the low-level Web MIDI API. Basically, it
 * simplifies sending outgoing MIDI messages and reacting to incoming MIDI messages.
 *
 * When using the WebMidi.js library, you should know that the `WebMidi` class has already been
 * instantiated. You cannot instantiate it yourself. If you use the **IIFE** version, you should
 * simply use the global object called `WebMidi`. If you use the **CJS** (CommonJS) or **ESM** (ES6
 * module) version, you get an already-instantiated object when you import the module.
 *
 * @fires WebMidi#connected
 * @fires WebMidi#disabled
 * @fires WebMidi#disconnected
 * @fires WebMidi#enabled
 * @fires WebMidi#error
 * @fires WebMidi#midiaccessgranted
 * @fires WebMidi#portschanged
 *
 * @extends EventEmitter
 * @license Apache-2.0
 */const Qs=new class extends Gs{constructor(){super(),this.defaults={note:{attack:$s.from7bitToFloat(64),release:$s.from7bitToFloat(64),duration:1/0}},this.interface=null,this.validation=!0,this._inputs=[],this._disconnectedInputs=[],this._outputs=[],this._disconnectedOutputs=[],this._stateChangeQueue=[],this._octaveOffset=0}async enable(e={},t=!1){if($s.isNode){try{window.navigator}catch(i){let e=await Object.getPrototypeOf((async function(){})).constructor('\n        let jzz = await import("jzz");\n        return jzz.default;\n        ')();global.navigator||(global.navigator={}),Object.assign(global.navigator,e)}try{performance}catch(i){global.performance=await Object.getPrototypeOf((async function(){})).constructor('\n        let perf_hooks = await import("perf_hooks");\n        return perf_hooks.performance;\n        ')()}}if(this.validation=!1!==e.validation,this.validation&&("function"==typeof e&&(e={callback:e,sysex:t}),t&&(e.sysex=!0)),this.enabled)return"function"==typeof e.callback&&e.callback(),Promise.resolve();const n={timestamp:this.time,target:this,type:"error",error:void 0},r={timestamp:this.time,target:this,type:"midiaccessgranted"},s={timestamp:this.time,target:this,type:"enabled"};try{"function"==typeof e.requestMIDIAccessFunction?this.interface=await e.requestMIDIAccessFunction({sysex:e.sysex,software:e.software}):this.interface=await navigator.requestMIDIAccess({sysex:e.sysex,software:e.software})}catch(i){return n.error=i,this.emit("error",n),"function"==typeof e.callback&&e.callback(i),Promise.reject(i)}this.emit("midiaccessgranted",r),this.interface.onstatechange=this._onInterfaceStateChange.bind(this);try{await this._updateInputsAndOutputs()}catch(i){return n.error=i,this.emit("error",n),"function"==typeof e.callback&&e.callback(i),Promise.reject(i)}return this.emit("enabled",s),"function"==typeof e.callback&&e.callback(),Promise.resolve(this)}async disable(){return this.interface&&(this.interface.onstatechange=void 0),this._destroyInputsAndOutputs().then((()=>{navigator&&"function"==typeof navigator.close&&navigator.close(),this.interface=null;let e={timestamp:this.time,target:this,type:"disabled"};this.emit("disabled",e),this.removeListener()}))}getInputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(this._disconnectedInputs[n].id===e.toString())return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(this.inputs[n].id===e.toString())return this.inputs[n]}getInputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let n=0;n<this._disconnectedInputs.length;n++)if(~this._disconnectedInputs[n].name.indexOf(e))return this._disconnectedInputs[n]}else for(let n=0;n<this.inputs.length;n++)if(~this.inputs[n].name.indexOf(e))return this.inputs[n]}getOutputByName(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return;e=e.toString()}if(t.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(~this._disconnectedOutputs[n].name.indexOf(e))return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(~this.outputs[n].name.indexOf(e))return this.outputs[n]}getOutputById(e,t={disconnected:!1}){if(this.validation){if(!this.enabled)throw new Error("WebMidi is not enabled.");if(!e)return}if(t.disconnected){for(let n=0;n<this._disconnectedOutputs.length;n++)if(this._disconnectedOutputs[n].id===e.toString())return this._disconnectedOutputs[n]}else for(let n=0;n<this.outputs.length;n++)if(this.outputs[n].id===e.toString())return this.outputs[n]}noteNameToNumber(e){return this.validation,$s.toNoteNumber(e,this.octaveOffset)}getOctave(e){return this.validation&&(e=parseInt(e)),!isNaN(e)&&e>=0&&e<=127&&$s.getNoteDetails($s.offsetNumber(e,this.octaveOffset)).octave}sanitizeChannels(e){return this.validation,$s.sanitizeChannels(e)}toMIDIChannels(e){return this.validation,$s.sanitizeChannels(e)}guessNoteNumber(e){return this.validation,$s.guessNoteNumber(e,this.octaveOffset)}getValidNoteArray(e,t={}){return this.validation,$s.buildNoteArray(e,t)}convertToTimestamp(e){return this.validation,$s.toTimestamp(e)}async _destroyInputsAndOutputs(){let e=[];return this.inputs.forEach((t=>e.push(t.destroy()))),this.outputs.forEach((t=>e.push(t.destroy()))),Promise.all(e).then((()=>{this._inputs=[],this._outputs=[]}))}_onInterfaceStateChange(e){this._updateInputsAndOutputs();let t={timestamp:e.timeStamp,type:e.port.state,target:this};if("connected"===e.port.state&&"open"===e.port.connection){"output"===e.port.type?t.port=this.getOutputById(e.port.id):"input"===e.port.type&&(t.port=this.getInputById(e.port.id)),this.emit(e.port.state,t);const n=Object.assign({},t);n.type="portschanged",this.emit(n.type,n)}else if("disconnected"===e.port.state&&"pending"===e.port.connection){"input"===e.port.type?t.port=this.getInputById(e.port.id,{disconnected:!0}):"output"===e.port.type&&(t.port=this.getOutputById(e.port.id,{disconnected:!0})),this.emit(e.port.state,t);const n=Object.assign({},t);n.type="portschanged",this.emit(n.type,n)}}async _updateInputsAndOutputs(){return Promise.all([this._updateInputs(),this._updateOutputs()])}async _updateInputs(){if(!this.interface)return;for(let t=this._inputs.length-1;t>=0;t--){const e=this._inputs[t];Array.from(this.interface.inputs.values()).find((t=>t===e._midiInput))||(this._disconnectedInputs.push(e),this._inputs.splice(t,1))}let e=[];return this.interface.inputs.forEach((t=>{if(!this._inputs.find((e=>e._midiInput===t))){let n=this._disconnectedInputs.find((e=>e._midiInput===t));n||(n=new Zs(t)),this._inputs.push(n),e.push(n.open())}})),Promise.all(e)}async _updateOutputs(){if(!this.interface)return;for(let t=this._outputs.length-1;t>=0;t--){const e=this._outputs[t];Array.from(this.interface.outputs.values()).find((t=>t===e._midiOutput))||(this._disconnectedOutputs.push(e),this._outputs.splice(t,1))}let e=[];return this.interface.outputs.forEach((t=>{if(!this._outputs.find((e=>e._midiOutput===t))){let n=this._disconnectedOutputs.find((e=>e._midiOutput===t));n||(n=new qs(t)),this._outputs.push(n),e.push(n.open())}})),Promise.all(e)}get enabled(){return null!==this.interface}get inputs(){return this._inputs}get isNode(){return this.validation,$s.isNode}get isBrowser(){return this.validation,$s.isBrowser}get octaveOffset(){return this._octaveOffset}set octaveOffset(e){if(this.validation&&(e=parseInt(e),isNaN(e)))throw new TypeError("The 'octaveOffset' property must be an integer.");this._octaveOffset=e}get outputs(){return this._outputs}get supported(){return"undefined"!=typeof navigator&&!!navigator.requestMIDIAccess}get sysexEnabled(){return!(!this.interface||!this.interface.sysexEnabled)}get time(){return performance.now()}get version(){return"3.1.12"}get flavour(){return"esm"}get CHANNEL_EVENTS(){return this.validation,js.CHANNEL_EVENTS}get MIDI_SYSTEM_MESSAGES(){return this.validation,js.SYSTEM_MESSAGES}get MIDI_CHANNEL_MODE_MESSAGES(){return this.validation,js.CHANNEL_MODE_MESSAGES}get MIDI_CONTROL_CHANGE_MESSAGES(){return this.validation,js.MIDI_CONTROL_CHANGE_MESSAGES}get MIDI_REGISTERED_PARAMETER(){return this.validation,js.REGISTERED_PARAMETERS}get NOTES(){return this.validation,["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"]}};function Xs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ei(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}Qs.constructor=null;var ti,ni,ri,si,ii,oi={exports:{}},ai={exports:{}};function li(){return ii||(ii=1,function(e){var t=ni?ti:(ni=1,ti={decode:function(e,t){for(var n,r,s,i=e.replace(/[^A-Za-z0-9\+\/]/g,""),o=i.length,a=t?Math.ceil((3*o+1>>2)/t)*t:3*o+1>>2,l=new Uint8Array(a),c=0,u=0,d=0;d<o;d++)if(r=3&d,c|=((s=i.charCodeAt(d))>64&&s<91?s-65:s>96&&s<123?s-71:s>47&&s<58?s+4:43===s?62:47===s?63:0)<<18-6*r,3===r||o-d===1){for(n=0;n<3&&u<a;n++,u++)l[u]=c>>>(16>>>n&24)&255;c=0}return l}}),n=si?ri:(si=1,ri=function(e,t){return new Promise((function(n,r){var s=new XMLHttpRequest;t&&(s.responseType=t),s.open("GET",e),s.onload=function(){200===s.status?n(s.response):r(Error(s.statusText))},s.onerror=function(){r(Error("Network Error"))},s.send()}))});function r(e){return function(t){return"string"==typeof t&&e.test(t)}}function s(e,t){return"string"==typeof e?e+t:"function"==typeof e?e(t):t}function i(e,t,n,r){var s=t instanceof ArrayBuffer?o:a(t)?l:function(e){return e&&"function"==typeof e.then}(t)?c:u(t)?d:function(e){return e&&"object"==typeof e}(t)?h:p(t)?f:m(t)?g:v(t)?y:null;return s?s(e,t,n||{}):r?Promise.resolve(r):Promise.reject("Source not valid ("+t+")")}function o(e,t,n){return new Promise((function(n,r){e.decodeAudioData(t,(function(e){n(e)}),(function(){r("Can't decode audio data ("+t.slice(0,30)+"...)")}))}))}i.fetch=n;var a=r(/\.(mp3|wav|ogg)(\?.*)?$/i);function l(e,t,n){var r=s(n.from,t);return i(e,i.fetch(r,"arraybuffer"),n)}function c(e,t,n){return t.then((function(t){return i(e,t,n)}))}var u=Array.isArray;function d(e,t,n){return Promise.all(t.map((function(t){return i(e,t,n,t)})))}function h(e,t,n){var r={},s=Object.keys(t).map((function(s){if(n.only&&-1===n.only.indexOf(s))return null;var o=t[s];return i(e,o,n,o).then((function(e){r[s]=e}))}));return Promise.all(s).then((function(){return r}))}var p=r(/\.json(\?.*)?$/i);function f(e,t,n){var r=s(n.from,t);return i(e,i.fetch(r,"text").then(JSON.parse),n)}var m=r(/^data:audio/);function g(e,n,r){var s=n.indexOf(",");return i(e,t.decode(n.slice(s+1)).buffer,r)}var v=r(/\.js(\?.*)?$/i);function y(e,t,n){var r=s(n.from,t);return i(e,i.fetch(r,"text").then(b),n)}function b(e){var t=e.indexOf("MIDI.Soundfont.");if(t<0)throw Error("Invalid MIDI.js Soundfont format");t=e.indexOf("=",t)+2;var n=e.lastIndexOf(",");return JSON.parse(e.slice(t,n)+"}")}e.exports&&(e.exports=i),"undefined"!=typeof window&&(window.loadAudio=i)}(ai)),ai.exports}var ci,ui,di,hi,pi,fi,mi,gi,vi,yi,bi,_i,Ei={exports:{}};function wi(){if(ui)return ci;ui=1,ci=function(r){var s=r.createGain(),i=s._voltage=function(e){var n=e.createBufferSource(),r=e.createBuffer(1,2,e.sampleRate);return r.getChannelData(0).set(t),n.buffer=r,n.loop=!0,n}(r),o=n(i),a=n(i),l=n(i);return s._startAmount=n(a),s._endAmount=n(l),s._multiplier=n(o),s._multiplier.connect(s),s._startAmount.connect(s),s._endAmount.connect(s),s.value=o.gain,s.startValue=a.gain,s.endValue=l.gain,s.startValue.value=0,s.endValue.value=0,Object.defineProperties(s,e),s};var e={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,n=this._startAmount.gain,s=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var i=this.sustain;t.cancelScheduledValues(e),n.cancelScheduledValues(e),s.cancelScheduledValues(e),s.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),n.setValueAtTime(1,e),n.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),n.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(i,this._decayFrom,r(this.decay))}},stop:{value:function(e,t){t&&(e-=this.release);var n=e+this.release;if(this.release){var s=this._multiplier.gain,i=this._startAmount.gain,o=this._endAmount.gain;s.cancelScheduledValues(e),i.cancelScheduledValues(e),o.cancelScheduledValues(e);var a=r(this.release);if(this.attack&&e<this._decayFrom){var l=function(e,t,n,r,s){var i=s-n,o=e+i/(r-n)*(t-e);o<=e&&(o=e);o>=t&&(o=t);return o}(0,1,this._startedAt,this._decayFrom,e);s.linearRampToValueAtTime(l,e),i.linearRampToValueAtTime(1-l,e),i.setTargetAtTime(0,e,a)}o.setTargetAtTime(1,e,a),s.setTargetAtTime(0,e,a)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},t=new Float32Array([1,1]);function n(e){var t=e.context.createGain();return e.connect(t),t}function r(e){return Math.log(e+1)/Math.log(100)}return ci}function Ni(){if(hi)return di;hi=1;var e=wi(),t={},n={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function r(e){return"number"==typeof e}var s=["attack","decay","sustain","release"];return di=function(i,o,a){var l=!1,c=0,u={},d=i.createGain();d.gain.value=1;var h=Object.assign({},n,a),p={context:i,out:d,opts:h};return o instanceof AudioBuffer?p.buffer=o:p.buffers=o,p.start=function(n,o,a){if(p.buffer&&null!==n)return p.start(null,n,o);var f=n?p.buffers[n]:p.buffer;if(f&&l){var m=a||t;o=Math.max(i.currentTime,o||0),p.emit("start",o,n,m);var g=function(t,n,o){var a=i.createGain();return a.gain.value=0,a.connect(d),a.env=function(t,n,i){var o=e(t),a=n.adsr||i.adsr;return s.forEach((function(e,t){o[e]=a?a[t]:n[e]||i[e]})),o.value.value=r(n.gain)?n.gain:r(i.gain)?i.gain:1,o}(i,o,h),a.env.connect(a.gain),a.source=i.createBufferSource(),a.source.buffer=n,a.source.connect(a),a.source.loop=o.loop||h.loop,a.source.playbackRate.value=function(e){return e?Math.pow(2,e/1200):1}(o.cents||h.cents),a.source.loopStart=o.loopStart||h.loopStart,a.source.loopEnd=o.loopEnd||h.loopEnd,a.stop=function(e){var n=e||i.currentTime;p.emit("stop",n,t);var r=a.env.stop(n);a.source.stop(r)},a}(n,f,m);return g.id=function(e,t){return t.id=c++,u[t.id]=t,t.source.onended=function(){var e=i.currentTime;t.source.disconnect(),t.env.disconnect(),t.disconnect(),p.emit("ended",e,t.id,t)},t.id}(0,g),g.env.start(o),g.source.start(o),p.emit("started",o,g.id,g),m.duration&&g.stop(o+m.duration),g}},p.play=function(e,t,n){return p.start(e,t,n)},p.stop=function(e,t){var n;return(t=t||Object.keys(u)).map((function(t){return(n=u[t])?(n.stop(e),n.id):null}))},p.connect=function(e){return l=!0,d.connect(e),p},p.emit=function(e,t,n,r){p.onevent&&p.onevent(e,t,n,r);var s=p["on"+e];s&&s(t,n,r)},p}}function Si(){if(yi)return vi;yi=1;var e=function(){if(gi)return mi;gi=1;var e=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/,t=[0,2,4,5,7,9,11];function n(n,s,i){if("string"!=typeof n)return null;var o=e.exec(n);if(!o||!s&&o[4])return null;var a={letter:o[1].toUpperCase(),acc:o[2].replace(/x/g,"##")};return a.pc=a.letter+a.acc,a.step=(a.letter.charCodeAt(0)+3)%7,a.alt="b"===a.acc[0]?-a.acc.length:a.acc.length,a.chroma=t[a.step]+a.alt,o[3]&&(a.oct=+o[3],a.midi=a.chroma+12*(a.oct+1),a.freq=r(a.midi,i)),s&&(a.tonicOf=o[4]),a}function r(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var s={parse:n,regex:function(){return e},midiToFreq:r};return["letter","acc","pc","step","alt","chroma","oct","midi","freq"].forEach((function(e){s[e]=function(t){var r=n(t);return r&&void 0!==r[e]?r[e]:null}})),mi=s}(),t=function(t){return function(e){return null!==e&&e!==[]&&e>=0&&e<129}(t)?+t:e.midi(t)};return vi=function(e){if(e.buffers){var n=e.opts.map,r="function"==typeof n?n:t,s=function(e){return e?r(e)||e:null};e.buffers=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r)]=e[r],n}),{})}(e.buffers,s);var i=e.start;e.start=function(e,t,n){var r=s(e),o=r%1;return o&&(r=Math.floor(r),n=Object.assign(n||{},{cents:Math.floor(100*o)})),i(r,t,n)}}return e}}function Mi(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ai,Ci,Ii,Ti,Oi={exports:{}};function Ri(){return Ai?Oi.exports:(Ai=1,Oi.exports=function e(t,n,r){function s(o,a){if(!n[o]){if(!t[o]){if(!a&&Mi)return Mi(o);if(i)return i(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,(function(e){var n=t[o][1][e];return s(n||e)}),c,c.exports,e,t,n,r)}return n[o].exports}for(var i=Mi,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){function t(e){if(this._event=e,this._data=e.data,this.receivedTime=e.receivedTime,!(this._data&&this._data.length<2))switch(this._messageCode=240&e.data[0],this.channel=15&e.data[0],this._messageCode){case 128:this.messageType="noteoff",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 144:this.messageType="noteon",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 160:this.messageType="keypressure",this.key=127&e.data[1],this.pressure=127&e.data[2];break;case 176:this.messageType="controlchange",this.controllerNumber=127&e.data[1],this.controllerValue=127&e.data[2],120===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allsoundoff":121===this.controllerNumber?this.channelModeMessage="resetallcontrollers":122===this.controllerNumber?0===this.controllerValue?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":123===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allnotesoff":124===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeoff":125===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeon":126===this.controllerNumber?this.channelModeMessage="monomodeon":127===this.controllerNumber&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=e.data[1];break;case 208:this.messageType="channelpressure",this.pressure=127&e.data[1];break;case 224:this.messageType="pitchbendchange";var t=127&e.data[2],n=127&e.data[1];this.pitchBend=(t<<8)+n}}return new t(e)},t.exports=n.default},{}]},{},[1])(1))}function xi(){return Ti||(Ti=1,function(e){var t=Ni(),n=(fi||(fi=1,pi=function(e){return e.on=function(t,n){if(1===arguments.length&&"function"==typeof t)return e.on("event",t);var r,s,i="on"+t,o=e[i];return e[i]=o?(r=o,s=n,function(e,t,n,i){r(e,t,n,i),s(e,t,n,i)}):n,e},e}),pi),r=Si(),s=function(){if(_i)return bi;_i=1;var e=Array.isArray,t={};return bi=function(n){return n.schedule=function(r,s){var i,o,a,l,c=n.context.currentTime,u=r<c?c:r;return n.emit("schedule",u,s),s.map((function(r){return r?(e(r)?(i=r[0],o=r[1]):(i=r.time,o=r),function(e){return e&&"object"==typeof e}(o)?(a=o.name||o.key||o.note||o.midi||null,l=o):(a=o,l=t),n.start(a,u+(i||0),l)):null}))},n}}(),i=function(){if(Ii)return Ci;Ii=1;var e=Ri();return Ci=function(t){return t.listenToMidi=function(n,r){var s={},i=r||{},o=i.gain||function(e){return e/127};return n.onmidimessage=function(n){var r=n.messageType?n:e(n);if("noteon"===r.messageType&&0===r.velocity&&(r.messageType="noteoff"),!i.channel||r.channel===i.channel)switch(r.messageType){case"noteon":s[r.key]=t.play(r.key,0,{gain:o(r.velocity)});break;case"noteoff":s[r.key]&&(s[r.key].stop(),delete s[r.key])}},t},t}}();function o(e,o,a){return i(s(r(n(t(e,o,a)))))}e.exports&&(e.exports=o),"undefined"!=typeof window&&(window.SamplePlayer=o)}(Ei)),Ei.exports}function ki(e,t){return Array(t+1).join(e)}function Di(e){return"number"==typeof e}function Pi(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var Bi=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;var Li=[0,2,4,5,7,9,11];function Ui(e,t,n){if("string"!=typeof e)return null;var r=Bi.exec(e);if(!r||!t&&r[4])return null;var s={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};s.pc=s.letter+s.acc,s.step=(s.letter.charCodeAt(0)+3)%7,s.alt="b"===s.acc[0]?-s.acc.length:s.acc.length;var i=Li[s.step]+s.alt;return s.chroma=i<0?12+i:i%12,r[3]&&(s.oct=+r[3],s.midi=i+12*(s.oct+1),s.freq=Pi(s.midi,n)),t&&(s.tonicOf=r[4]),s}function Fi(e){if((Di(e)||"string"==typeof e)&&e>=0&&e<128)return+e;var t=Ui(e);return t&&function(e){return void 0!==e}(t.midi)?t.midi:null}const Vi=Object.freeze(Object.defineProperty({__proto__:null,acc:function(e){return(Ui(e)||{}).acc},alt:function(e){return(Ui(e)||{}).alt},build:function e(t,n,r){return null==t?null:t.step?e(t.step,t.alt,t.oct):t<0||t>6?null:"CDEFGAB".charAt(t)+(Di(s=n)?s<0?ki("b",-s):ki("#",s):"")+function(e){return Di(e)?""+e:""}(r);var s},chroma:function(e){return(Ui(e)||{}).chroma},freq:function(e,t){var n=Fi(e);return null===n?null:Pi(n,t)},letter:function(e){return(Ui(e)||{}).letter},midi:Fi,oct:function(e){return(Ui(e)||{}).oct},parse:Ui,pc:function(e){return(Ui(e)||{}).pc},regex:function(){return Bi},step:function(e){return(Ui(e)||{}).step}},Symbol.toStringTag,{value:"Module"})),Gi=ei(Vi);var Hi,ji,zi;const $i=Xs((zi||(zi=1,function(e){var t=li(),n=xi();function r(e){return/\.js(\?.*)?$/i.test(e)}function s(e,t,n){return"https://gleitz.github.io/midi-js-soundfonts/"+(t="FluidR3_GM"===t?t:"MusyngKite")+"/"+e+"-"+(n="ogg"===n?n:"mp3")+".js"}var i=function(){if(ji)return Hi;ji=1;var e=Gi;function t(e,n){if(!(this instanceof t))return new t(e);this.nameToUrl=n||t.nameToUrl,this.ctx=e,this.instruments={},this.promises=[]}function n(t,n){return n=n||{},function(r,s,i,o){var a=r>0&&r<129?+r:e.midi(r),l=a?e.midiToFreq(a,440):null;if(l){i=i||.2;var c=(o=o||{}).destination||n.destination||t.destination,u=o.vcoType||n.vcoType||"sine",d=o.gain||n.gain||.4,h=t.createOscillator();h.type=u,h.frequency.value=l;var p=t.createGain();return p.gain.value=d,h.connect(p),p.connect(c),h.start(s),i>0&&h.stop(s+i),h}}}return t.prototype.onready=function(e){Promise.all(this.promises).then(e)},t.prototype.instrument=function(e,r){var s=this.ctx;if((e=e||"default")in this.instruments)return this.instruments[e];var i={name:e,play:n(s,r)};if(this.instruments[e]=i,"default"!==e){var o=t.instrument(s,e,r).then((function(e){return i.play=e.play,i}));this.promises.push(o),i.onready=function(e){o.then(e)}}else i.onready=function(e){e()};return i},t.loadBuffers=function(e,n,r){return t.instrument(e,n,r).then((function(e){return e.buffers}))},t.noteToMidi=e.midi,Hi=t}();i.instrument=function e(i,o,a){if(1===arguments.length)return function(t,n){return e(i,t,n)};var l=a||{},c=l.isSoundfontURL||r,u=l.nameToUrl||s,d=c(o)?o:u(o,l.soundfont,l.format);return t(i,d,{only:l.only||l.notes}).then((function(e){var t=n(i,e,l).connect(l.destination?l.destination:i.destination);return t.url=d,t.name=o,t}))},i.nameToUrl=s,e.exports&&(e.exports=i),"undefined"!=typeof window&&(window.Soundfont=i)}(oi)),oi.exports)),Yi={class:"piano-container"},qi={class:"controls"},Wi={class:"piano-keyboard"},Ki=["onMousedown","onMouseup","onMouseleave"],Ji={class:"note-name"};const Zi=((e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n})({name:"PianoKeyboard",data:()=>({midiEnabled:!1,activeNotes:[],currentInstrument:"acoustic_grand_piano",player:null,pressedKeys:new Set,keyboardMap:{z:48,x:50,c:52,v:53,b:55,n:57,m:59,a:49,s:51,f:54,g:56,h:58,q:60,w:62,e:64,r:65,t:67,y:69,u:71,1:61,2:63,4:66,5:68,6:70,i:72,o:74,p:76,8:73,9:75},notes:[{midi:48,name:"C3",type:"white",position:0},{midi:49,name:"C#3",type:"black",position:35},{midi:50,name:"D3",type:"white",position:50},{midi:51,name:"D#3",type:"black",position:85},{midi:52,name:"E3",type:"white",position:100},{midi:53,name:"F3",type:"white",position:150},{midi:54,name:"F#3",type:"black",position:185},{midi:55,name:"G3",type:"white",position:200},{midi:56,name:"G#3",type:"black",position:235},{midi:57,name:"A3",type:"white",position:250},{midi:58,name:"A#3",type:"black",position:285},{midi:59,name:"B3",type:"white",position:300},{midi:60,name:"C4",type:"white",position:350},{midi:61,name:"C#4",type:"black",position:385},{midi:62,name:"D4",type:"white",position:400},{midi:63,name:"D#4",type:"black",position:435},{midi:64,name:"E4",type:"white",position:450},{midi:65,name:"F4",type:"white",position:500},{midi:66,name:"F#4",type:"black",position:535},{midi:67,name:"G4",type:"white",position:550},{midi:68,name:"G#4",type:"black",position:585},{midi:69,name:"A4",type:"white",position:600},{midi:70,name:"A#4",type:"black",position:635},{midi:71,name:"B4",type:"white",position:650},{midi:72,name:"C5",type:"white",position:700},{midi:73,name:"C#5",type:"black",position:735},{midi:74,name:"D5",type:"white",position:750},{midi:75,name:"D#5",type:"black",position:785},{midi:76,name:"E5",type:"white",position:800},{midi:77,name:"F5",type:"white",position:850},{midi:78,name:"F#5",type:"black",position:885},{midi:79,name:"G5",type:"white",position:900},{midi:80,name:"G#5",type:"black",position:935},{midi:81,name:"A5",type:"white",position:950},{midi:82,name:"A#5",type:"black",position:985},{midi:83,name:"B5",type:"white",position:1e3}]}),mounted(){this.initAudioPlayer(),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},methods:{async initAudioPlayer(){const e=new(window.AudioContext||window.webkitAudioContext);this.player=await $i.instrument(e,this.currentInstrument)},async initMIDI(){try{await Qs.enable(),this.midiEnabled=!0,Qs.inputs.forEach((e=>{e.addListener("noteon",(e=>{this.playNote(e.note.number)})),e.addListener("noteoff",(e=>{this.stopNote(e.note.number)}))}))}catch(e){}},playNote(e){this.activeNotes.includes(e)||this.activeNotes.push(e),this.player&&this.player.play(e)},stopNote(e){this.activeNotes=this.activeNotes.filter((t=>t!==e)),this.player&&this.player.stop(e)},handleKeyDown(e){const t=e.key.toLowerCase();!this.pressedKeys.has(t)&&this.keyboardMap[t]&&(this.pressedKeys.add(t),this.playNote(this.keyboardMap[t]))},handleKeyUp(e){const t=e.key.toLowerCase();this.keyboardMap[t]&&(this.pressedKeys.delete(t),this.stopNote(this.keyboardMap[t]))}},watch:{async currentInstrument(e){await this.initAudioPlayer()}}},[["render",function(e,t,n,r,s,i){return Or(),Dr("div",Yi,[Fr("div",qi,[Fr("button",{onClick:t[0]||(t[0]=(...e)=>i.initMIDI&&i.initMIDI(...e))},K(s.midiEnabled?"已连接 MIDI":"连接 MIDI 设备"),1),Yt(Fr("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.currentInstrument=e)},t[2]||(t[2]=[Fr("option",{value:"acoustic_grand_piano"},"钢琴",-1),Fr("option",{value:"acoustic_guitar_nylon"},"吉他",-1),Fr("option",{value:"orchestral_harp"},"竖琴",-1)]),512),[[Bs,s.currentInstrument]])]),Fr("div",Wi,[(Or(!0),Dr(Sr,null,yn(s.notes,(e=>(Or(),Dr("div",{key:e.midi,class:j(["piano-key",e.type,{active:s.activeNotes.includes(e.midi)}]),onMousedown:t=>i.playNote(e.midi),onMouseup:t=>i.stopNote(e.midi),onMouseleave:t=>i.stopNote(e.midi),style:U({left:`${e.position}px`})},[Fr("span",Ji,K(e.name),1)],46,Ki)))),128))])])}],["__scopeId","data-v-5d024ed0"]]),Qi={class:"app"};((...e)=>{const t=(Vs||(Vs=rr(Fs))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(g(e)){return document.querySelector(e)}return e}(e);if(!r)return;const s=t._component;m(s)||s.render||s.template||(s.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const i=n(r,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t})({__name:"App",setup:e=>(e,t)=>(Or(),Dr("div",Qi,[t[0]||(t[0]=Fr("header",null,[Fr("h1",null,"在线钢琴"),Fr("p",null,"使用键盘或 MIDI 设备来演奏")],-1)),Fr("main",null,[Vr(Zi)]),t[1]||(t[1]=Fr("footer",null,[Fr("p",null,"支持 MIDI 设备连接 | 多种乐器音色")],-1))]))}).mount("#app");
